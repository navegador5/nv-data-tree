var nvtree=(()=>{var Pt=Object.defineProperty;var I_=e=>Pt(e,"__esModule",{value:!0});var w_=e=>{if(typeof require!="undefined")return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')};var Ut=(e,t)=>()=>(e&&(t=e(e=0)),t);var b=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),S_=(e,t)=>{I_(e);for(var n in t)Pt(e,n,{get:t[n],enumerable:!0})};var Yt=b((Xo,Bt)=>{var N_=(...e)=>e.every(t=>t),R_=(e,t,...n)=>{let r=0;for(let s of n)if(e(s)&&(r=r+1),r===t)return!0;return!1},O_=(e,...t)=>R_(n=>n,e,...t),q_=(...e)=>O_(1,...e);Bt.exports={and:N_,or:q_}});var Ht,jt=Ut(()=>{Ht="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"});var Vt={};S_(Vt,{customAlphabet:()=>A_,customRandom:()=>Xt,nanoid:()=>C_,random:()=>Wt,urlAlphabet:()=>Ht});var Wt,Xt,A_,C_,Jt=Ut(()=>{jt();Wt=e=>crypto.getRandomValues(new Uint8Array(e)),Xt=(e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,s=-~(1.6*r*t/e.length);return()=>{let l="";for(;;){let _=n(s),i=s;for(;i--;)if(l+=e[_[i]&r]||"",l.length===t)return l}}},A_=(e,t)=>Xt(e,t,Wt),C_=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=n[e]&63;r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r<63?t+="_":t+="-"}return t}});var te=b((td,$t)=>{var ot=Object,Zt=JSON,O=Symbol,dt=Array,ct=BigInt,ft=BigUint64Array,Zo=BigInt64Array,J=parseInt,F_=!0,Ko=ot.fromEntries,G_=O.toStringTag,Kt="defineProperty",at="length",le="prototype",{or:Qo,and:zo}=Yt(),ed=Array.isArray,Z=$t.exports;function Qt(){try{document.createTextNode("")}catch(e){return!0}}var L_="\u200C";function zt(e,t,...n){Qt()?e[le][w_("util").inspect.custom]=function(){return t(this,...n)}:e[le].repr=function(){return t(this,...n)}}function k_(e,t,...n){ot[Kt](e[le],G_,{get:function(){return t(this,...n)}})}var M_=O("root"),P_=O("empty"),U_=O("unknown"),B_=O("impossible"),Y_=O("never"),H_=O("maybe"),j_=O("any"),W_=O("noexist"),X_=O("hole"),V_=e=>Zt.parse(Zt.stringify(e));function J_(...e){let t=e[at],n=e.slice(0,t-1),r=e[t-1];for(let s=0;s<t-1;s=s+2){let l=e[s],_=e[s+1],i;if(l)return _}return r}Z={__O:ot,__DP:Kt,is_node:Qt,jdcp:V_,iflet:J_,forlst:(e,t)=>{for(let n=e.length-1;n>-1;n--)t(e[n],n)},root:M_,empty:P_,unknown:U_,impossible:B_,never:Y_,maybe:H_,any:j_,noexist:W_,hole:X_,ZWNJ:L_,add_repr:zt,add_string_tag:k_};var{nanoid:Z_}=(Jt(),Vt);Z.creat_id=()=>Z_(36);var K_=/\-/g;_tmp=()=>Z.creat_id().replace(K_,"");Z.creat_nodash_id=_tmp;Z.creat_idary=()=>[0,0,0,0].map((e,t)=>J("0x"+_tmp().slice(t*8,t*8+8)));Z.creat_bigint_id=()=>ct("0x"+_tmp());Z.get_abbr=e=>e.substr(0,8);var Q_=e=>({minid_:e.minid_,maxid_:e.maxid_,used_:e.used_,lefted_:e.lefted_});function*en(e,t,n,r){let s=t[at];for(;F_;)for(let l=1;l<s;l++)t[l]!==n||(t[l]=r,yield l)}function z_(e){let t=O(),n=O(),r=O(),s=O(),l=O(),_=O(),i=O();class o{#e;#t;#n;#r;#_;#s;constructor(c,f,a,p){e===dt?f=f??dt.from({length:J(c+1)}).map(h=>a):f=f??new e(J(c+1)),this.#t=e===ft?ct(c):c,this.#r=f.filter(h=>h!==a).length,this.#e=f,this.#_=a,this.#s=p,this.#n=en(J(c),this.#e,this.#_,this.#s)}get rented_(){return this.#e}[t](){this.#r=this.#r+1}[n](){this.#r=this.#r-1}get used_(){return this.#r}get minid_(){return e===ft?1n:1}get maxid_(){return this.#t}get lefted_(){return J(this.#t)-this.used_}is_full(){return this.lefted_===0}get[r](){return this.#_}get[s](){return this.#e}get[l](){return this.#s}get[_](){return this.#n}[i](){this.#n=en(J(this.#t),this.#e,this.#_,this.#s)}reset(){this.#r=0;for(let c=1;c<this.#e[at];c++)this.#e[c]=this.#_;this[i]()}}return e===ft?(o[le].rent=function(){return this.used_===J(this.maxid_)?(this[i](),-this[l]):(this[t](),ct(this[_].next().value))},o[le].rtrn=function(d){this[s][J(d)]!==this[r]&&(this[n](),this[s][J(d)]=this[r])}):(o[le].rent=function(){return this.used_===this.maxid_?(this[i](),-this[l]):(this[t](),this[_].next().value)},o[le].rtrn=function(d){this[s][d]!==this[r]&&(this[n](),this[s][d]=this[r])}),zt(o,Q_),o}Z.AidPool=z_(dt);$t.exports=Z});var nn=b((nd,tn)=>{function es(e,...t){t.forEach(n=>Object.defineProperty(e,n,{enumerable:!1}))}tn.exports={false_e:es}});var X=b((rd,dn)=>{var Ge=[["$self_",0],["$fstch_",1],["$rsib_",2],["$parent_",3],["$lsib_",4],["$lstch_",5],["$end_",255]],rn=Ge.map(e=>e[0]),ts=Ge.map(e=>e[1]),Le=new Map(Ge.concat(Ge.map(e=>[e[1],e[0]]))),ke=[["$new",256],["$prepend_child",257],["$add_rsib",258],["$add_parent",259],["$add_lsib",260],["$append_child",261],["$noop",511]],ns=ke.map(e=>e[0]),rs=ke.map(e=>e[1]),Me=new Map(ke.concat(ke.map(e=>[e[1],e[0]])));function _s(e,t=!1){let n=Le.get(e)+256;return n==="$parent_"&&!t?n:Me.get(n)}function ss(e){let t=Me.get(e)-256;return t==="$parent_"?"$parent_":Le.get(t)}function _n(e){return Le.get(e)}function sn(e){return Le.get(e)}function ln(e){return Me.get(e)}function on(e){return Me.get(e)}function ls(e){return e.map(t=>t<256?_n(t):ln(t))}function is(e){return e.map(t=>rn.includes(t)?sn(t):on(t))}var pt=class{constructor(t,n,r=-1){this.k=t,this.d=n,this.id=r}};pt.DIRECTION={down:0,right:1,up:2,left:3,0:"down",1:"right",2:"up",3:"left"};var os={open:0,close:1,0:"open",1:"close",lyrfst:2,lyrmid:3,lyrlst:4,lyrbst:5,2:"lyrfst",3:"lyrmid",4:"lyrlst",5:"lyrbst"};dn.exports={SRCH_KS:rn,BUILD_KS:ns,SRCH_NS:ts,BUILD_NS:rs,srchk_to_buildk:_s,buildk_to_srchk:ss,srchn_to_srchk:_n,srchk_to_srchn:sn,buildn_to_buildk:ln,buildk_to_buildn:on,actnl_to_actkl:ls,actkl_to_actnl:is,Act:pt,FLAG_DICT:os}});var an=b((_d,fn)=>{var{jdcp:ut}=te(),ht=Symbol("pele");function gt(e,t,n,r){let s={},l=r(t);return Object.assign(s,l),s[n]=[],s[ht]=e,s}function ds(e,t="_children",n=ut){return{ck:t,dump_func:n,ref:e,ele:gt(null,e,t,n)}}var cs={$prepend_child:e=>{let t=e.ele,n=t[e.ck],s=e.ref.$fstch_,l=gt(t,s,e.ck,e.dump_func);return n.push(l),e.ref=s,e.ele=l,e},$add_rsib:e=>{let t=e.ele[ht],n=t[e.ck],s=e.ref.$rsib_,l=gt(t,s,e.ck,e.dump_func);return n.push(l),e.ref=s,e.ele=l,e},$parent_:e=>{let t=e.ele[ht],n=e.ref.$parent_;return e.ref=n,e.ele=t,e}};function fs(e,t=ut,n="_children"){let r=e.$sdfs_next_build_action_list_,s=ds(e,n,t),l=s.ele;r=r.slice(1);for(let _ of r)cs[_.k](s);return ut(l)}var cn=(e,t,n)=>{for(let r in t)r!==n&&(e[r]=t[r])};function as(e,t,n,r=cn,s="_children"){let l=e.node(t);r(l,n,s);let _=[{j:n,nd:l}],i=[];for(;_.length>0;){for(let o of _){let d=o.j[s],c=o.nd;for(let f of d){let a=e.node(t);r(a,f,s),c.$append_child(a),i.push({j:f,nd:a})}}_=i,i=[]}return l}fn.exports={dump:fs,DFLT_NEST_LOAD_FUNC:cn,load:as}});var Et=b((sd,pn)=>{var{actkl_to_actnl:$s,actnl_to_actkl:ps}=X(),{jdcp:bt}=te();function $n(e,t=bt){let n=e.$sdfs_next_build_action_list_;n=n.map(s=>s.k),n=$s(n);let r=e.$sdfs_.map(s=>t(s));return{struct:n,data:r}}var xt=(e,t)=>(Object.assign(e,t),e);function us(e,t,n,r=xt){let{struct:s,data:l}=e,_=ps(s),i=t.tree(n);r(i,l[0]);let o=i,d=1;for(let c=1;c<_.length;c++){let f=_[c];f.endsWith("_")?o=o[f]:(o=o[f](),r(o,l[d]),d=d+1)}return i}var yt=an();function hs(e){e.prototype.$dump=function(t=bt){return $n(this,t)},e.DFLT_LOAD_FUNC=xt,e.prototype.$to_nest=function(t=bt,n="_children"){return yt.dump(this,t,n)},e.DFLT_NEST_LOAD_FUNC=yt.DFLT_NEST_LOAD_FUNC}pn.exports={dump:$n,DFLT_LOAD_FUNC:xt,load_from_dump:us,add_dump:hs,nest:yt}});var gn=b((ld,hn)=>{function un(e,t,n,r,s,l){let _=new Map,i=e.length;s=s??0,l=l??i;let o=s;for(let d=s;d<l;d++)r(n,e[d])&&(e[o]=e[d],_.set(d,o),o=o+1);for(let d=o;d<l;d++)e[d]=t;return _}function gs(e,t=void 0,n=void 0,r=void 0){return un(e,t,t,(s,l)=>l!==s,n,r)}function bs(e,t,n=void 0,r=void 0,s=void 0){return un(e,n,t,(l,_)=>!l.has(_),r,s)}hn.exports={defrag:gs,defrag_with_st:bs}});var yn=b((id,xn)=>{var{AidPool:bn,creat_id:xs,jdcp:ys}=te(),{false_e:Es}=nn(),Ie=Et(),ms=gn(),ue=["fc","pr","rb","lb","lc"],mt=(e,t,n,r)=>{let s=new e(t,r);return Object.assign(s,n),s};function vs(e,t,n=mt){let r=new he(e.maxid,e.fid),s=e.struct.ids,l=e.data,{slots_:_}=r;s.forEach((o,d)=>{_[o]=n(t,r,l[d],o),ue.forEach(c=>{r[c][o]=e.struct[c][d]})});let i=new bn(e.maxid,_,0,0);return r.idpool=i,r}function Ts(e){let t=e.slots_,n=ms.defrag(t,0,1),r=new Set(Array.from(n.keys()));for(let s=1;s<=r.size;s++){let l=t[s];l[l.constructor.SYM_DICT.set_id](s)}return ue.forEach(s=>{let l=e[s];for(let _=1;_<l.length;_++)r.has(_)&&(l[_]=n.get(l[_])??0);for(let[_,i]of n){let o=l[_];l[_]=0,l[i]=o}}),e}function Ds(e,t,n){e.fid=n??xs(),e.max_size=t,e.idpool=new bn(e.max_size,void 0,0,0);let r=e.idpool.rented_;ue.forEach(s=>{e[s]=r.slice(0)}),Es(e,...ue),Object.seal(e)}var he=class{constructor(t=1e4,n){Ds(this,t,n)}get slots_(){return this.idpool.rented_}slot(t){return this.slots_[t]}*gen_entry(){let t=this.slots_.length;for(let n=1;n<t;n++){let r=this.slot(n);r!==0&&(yield[r,n])}}get ids_(){return this.slots_.filter((t,n)=>t!==0).map(t=>t.$id_)}get nodes_(){return this.slots_.filter(t=>t!==0)}get trees_(){return this.nodes_.filter(t=>t.$is_root())}get isolates_(){return this.trees_.filter(t=>t.$is_leaf())}tree(t){let n=this.idpool.rent();if(n<0)return null;{let r=new t(this,n);return this.slots_[n]=r,r}}node(t){return this.tree(t)}erase_isolated(){let t=this.gen_entry(),n=[];for(let[r,s]of t)r.$is_isolated()&&(r.$erase(),n.push(r));return n}dump(t=ys){let n=this.idpool.maxid_,r=this.fid,s=this.slots_.filter(o=>o!==0),l=s.map(o=>o.$id_),_={ids:l};ue.forEach(o=>{_[o]=l.map(d=>this[o][d])});let i=s.map(o=>t(o));return{fid:r,maxid:n,struct:_,data:i}}load_nd_from_dump(t,n,r=Ie.DFLT_LOAD_FUNC){return Ie.load_from_dump(n,this,t,r)}load_nd_from_nest(t,n,r=Ie.nest.DFLT_NEST_LOAD_FUNC,s="_children"){return Ie.nest.load(this,t,n,r,s)}merge(t,n=Ie.DFLT_LOAD_FUNC){return t.trees_.map(l=>{let _=l.$dump();return this.load_nd_from_dump(l.constructor,_,n)})}defrag(){return Ts(this)}[Symbol.iterator](){return function*(){let t=this.gen_entry();for(let[n,r]of t)n.$is_root()&&(yield n)}()}};he.PROPS=ue;he.DFLT_LOAD_FUNC=mt;he.load_from_dump=(e,t,n=mt)=>vs(e,t,n);xn.exports=he});var ge=b((od,vn)=>{var vt=(e,t)=>e[t]===0,m={};[0,1,2,3,4].forEach(e=>{m["_"+e]=vt});var Is=(e,t,n)=>vt(e,n)&&vt(t,n);[5,6].forEach(e=>{m["_"+e]=Is});m._7=(e,t,n,r)=>{e[n]=r,t[r]=n};m._8=(e,t,n,r)=>{e[r]=n,t[n]=r};m._9=(e,t,n,r,s,l)=>{let _=n[l],i=t[l],o=r[l];return m._1(r,l)&&(e[_]=i),m._3(t,l)&&(s[_]=o),n[l]=0,m._8(t,r,i,o),t[l]=0,r[l]=0,l};function En(e,t,n,r,s,l,_){if(m._2(n,l)){let i=e[0][s];return m._7(e[0],n,s,l),i?_?m._8(t,r,l,i):m._8(t,r,i,l):e[1][s]=l,l}else return 0}m._11=(e,t,n,r,s,l,_)=>En([e,s],t,n,r,l,_,0);m._12=(e,t,n,r,s,l,_)=>En([s,e],t,n,r,l,_,1);function mn(e,t,n,r,s,l,_,i,o){let d=s[_];if(m._2(s,_)||!m._2(s,i))return 0;{s[i]=d,e(n,_)&&(t[d]=i);let c=n[_];return o?(m._8(r,l,_,i),m._8(r,l,i,c)):(m._8(r,l,i,_),m._8(r,l,c,i)),i}}m._14=(e,t,n,r,s,l,_)=>mn(m._3,s,t,t,n,r,l,_,0);m._15=(e,t,n,r,s,l,_)=>mn(m._1,e,r,t,n,r,l,_,1);["$is_empty","$is_fstch","$is_root","$is_lstch","$is_leaf","$is_lonely","$is_isolated","link_pc","link_rl","$disconn","_pend","$prepend_child","$append_child","_asib","$add_rsib","$add_lsib"].forEach((e,t)=>{vn.exports[e]=m["_"+t]})});var Tt=b((dd,Tn)=>{var K=ge(),ws={$is_empty:(e,t,n,r,s,l,_,i,o)=>K.$is_empty(e.rented_,_[0]),$is_root:(e,t,n,r,s,l,_,i,o)=>K.$is_root(r,_[0]),$is_fstch:(e,t,n,r,s,l,_,i,o)=>K.$is_fstch(s,_[0]),$is_midch:(e,t,n,r,s,l,_,i,o)=>!K.$is_fstch(s,_[0])&&!K.$is_lstch(n,_[0]),$is_lstch:(e,t,n,r,s,l,_,i,o)=>K.$is_lstch(n,_[0]),$is_leaf:(e,t,n,r,s,l,_,i,o)=>K.$is_leaf(t,_[0]),$is_lonely:(e,t,n,r,s,l,_,i,o)=>K.$is_lonely(n,s,_[0]),$is_isolated:(e,t,n,r,s,l,_,i,o)=>K.$is_isolated(t,r,_[0])};Tn.exports=ws});var P=b((cd,Sn)=>{var Dt=Array.from;function*Pe(e,t){let n=e[t];for(;n!==0;)yield n,n=e[n]}function*Ue(e,t,n){let r=e[n];for(;r!==0;)yield r,r=t[r]}var Dn=(e,t,n,r)=>Ue(e,t,n[r]);function*In(e,t){yield t,yield*Pe(e,t)}function Ss(e,t){let n=t;for(n of e);return n}function Ns(e,t){let n=0;for(let r of e){if(n===t)return r;n=n+1}return 0}function Rs(e,t){let n=[],r=0;for(let s of e)t.includes(r)&&n.push(s),r=r+1;return n}function Os(e,t){for(let n of e)if(n===t)return!0;return!1}function qs(e){let t=0;for(let n of e)t=t+1;return t}function As(e,t){let n=-1,r=!1;for(let s of e)if(n=n+1,s===t){r=!0;break}return r?n:-1}function Cs(e,t,n){if(t===n)return 0;{let r=1;for(let s of e){if(s===n)return r;r=r+1}return 1/0}}function Fs(e,t,n){if(t===n)return 0;{let r=0,s=1/0;for(let l of e){if(l===t)if(r===0)s=0,r=1;else return-s;else if(l===n)if(r===0)s=0,r=1;else return s;s=s+1}return 1/0}}function Gs(e,t){let n=Dt(e);return n.reverse(),n.push(t),n}function*wn(e,t,n){for(let r of n)yield*Ue(e,t,r)}function*Ls(e,t,n){let r=n?[n]:[];for(;r.length;)yield Dt(r),r=Dt(wn(e,t,r))}var ks={lst0:Ss,which:Ns,some:Rs,of:Os,count:qs,seq:As,dist_after:Cs,dist_dual:Fs,reverse_then_push_self:Gs,$ance:(e,t)=>Pe(e,t),$drmost:(e,t)=>In(e,t),$dlmost:(e,t)=>In(e,t),$fch:(e,t,n)=>Ue(e,t,n),$lch:(e,t,n)=>Ue(e,t,n),$psib:(e,t)=>Pe(e,t),$fsib:(e,t)=>Pe(e,t),$sibff:(e,t,n,r)=>n[r]?Dn(e,t,n,r):[r],$sibfl:(e,t,n,r)=>n[r]?Dn(e,t,n,r):[r],$nlyr:wn,$mat:Ls};Sn.exports=ks});var be=b((fd,qn)=>{var It=ge(),ie=P(),E={};E.$self_=(e,t,n,r,s,l,_,i,o)=>_[0];E.$root_=(e,t,n,r,s,l,_,i,o)=>{let d=ie.$ance(r,_[0]);return ie.lst0(d,_[0])};E.$parent_=(e,t,n,r,s,l,_,i,o)=>r[_[0]];E.$fstch_=(e,t,n,r,s,l,_,i,o)=>t[_[0]];E.$lstch_=(e,t,n,r,s,l,_,i,o)=>l[_[0]];function Nn(e,t,n){let r=t[n[0]];return r!==0?e[r]:0}E.$fstsib_=(e,t,n,r,s,l,_,i,o)=>Nn(t,r,_);E.$lstsib_=(e,t,n,r,s,l,_,i,o)=>Nn(l,r,_);E.$lsib_=(e,t,n,r,s,l,_,i,o)=>s[_[0]];E.$rsib_=(e,t,n,r,s,l,_,i,o)=>n[_[0]];function Rn(e,t,n){let r=t[n[0]],s=r!==0?e[r]:0;return s!==n[0]?s:0}E.$fstpsib_=(e,t,n,r,s,l,_,i,o)=>Rn(t,r,_);E.$lstfsib_=(e,t,n,r,s,l,_,i,o)=>Rn(l,r,_);E.$dlmost_=(e,t,n,r,s,l,_,i,o)=>{let d=ie.$dlmost(t,_[0]);return ie.lst0(d,_[0])};E.$drmost_=(e,t,n,r,s,l,_,i,o)=>{let d=ie.$drmost(l,_[0]);return ie.lst0(d,_[0])};function Be(e,t,n){let r=ie.$ance(t,n[0]),s=0;for(let l of r)if(e[l]!==0){s=e[l];break}return s}E.$rsib_of_fst_ance_having_rsib_=(e,t,n,r,s,l,_,i,o)=>Be(n,r,_);E.$lsib_of_fst_ance_having_lsib_=(e,t,n,r,s,l,_,i,o)=>Be(s,r,_);function wt(e,t,n){let r=t[n[0]];return r!==0?e[r]:0}E.$runcle_=(e,t,n,r,s,l,_,i,o)=>wt(n,r,_);E.$luncle_=(e,t,n,r,s,l,_,i,o)=>wt(s,r,_);function On(e,t,n,r){if(t[r[0]]!==0)return 0;{let s=wt(t,n,r);return s!==0?e[s]:0}}E.$rcin_=(e,t,n,r,s,l,_,i,o)=>On(t,n,r,_);E.$lcin_=(e,t,n,r,s,l,_,i,o)=>On(l,s,r,_);E.$sdfs_next_=(e,t,n,r,s,l,_,i,o)=>{let d=t[_[0]];if(d!==0)return d;{let c=n[_[0]];return c!==0?c:Be(n,r,_)}};E.$sdfs_prev_=(e,t,n,r,s,l,_,i,o)=>{let d=r[_[0]];if(d===0)return 0;{let c=s[_[0]];return It.$is_leaf(t,_[0])?c!==0?c:d:c!==0?It.$is_leaf(t,c)?c:E.$drmost_(e,t,n,r,s,l,[c],i,o):d}};E.$edfs_next_=(e,t,n,r,s,l,_,i,o)=>{let d=n[_[0]];return d===0?r[_[0]]:E.$dlmost_(e,t,n,r,s,l,[d],i,o)};E.$edfs_prev_=(e,t,n,r,s,l,_,i,o)=>{if(It.$is_leaf(t,_[0])){let d=s[_[0]];return d===0?Be(s,r,_):d}else return l[_[0]]};qn.exports=E});var Ot=b((ad,fr)=>{var{FLAG_DICT:An}=X(),Ms=["lib","cate","args","rtrn","getter"];function D(e){let t=[];return e.forEach(n=>{let r={};Ms.forEach((s,l)=>{r[s]=n[l]}),r.getter=r.cate.includes("GETTER"),t.push(r)}),t}var Y=(e,t,n,r)=>[[e.$id_],[],[]],xe=(e,t,n,r)=>[[e.$id_,t.$id_],[],[]],we=(e,t,n,r)=>[[e.$id_],n,[]],Ye=(e,t,n,r)=>[[e.$id_],[],r],Cn=(e,t,n,r)=>[[e.$id_],[],[o0]],He=(e,t)=>t,Q=(e,t)=>t===0?null:e.slot(t),oe=(e,t)=>t.map(n=>Q(e,n)),Se=(e,t)=>[Q(e,t[0]),An[t[1]]],St=function*(e,t){for(let n of t)yield Q(e,n)},Fn=function*(e,t){for(let n of t)yield oe(e,n)},Nt=(e,t)=>t.map(n=>oe(e,n)),Gn=function*(e,t){yield*t},Ln=(e,t)=>t.map(n=>Se(e,n)),Rt=function*(e,t){for(let[n,r]of t)yield[Q(e,n),An[r]]},Ps=["$is_empty","$is_root","$is_fstch","$is_midch","$is_lstch","$is_leaf","$is_lonely","$is_isolated"],Us=["$is_lyr_fst","$is_lyr_bst","$is_lyr_lst"],Bs=["$depth_","$children_count_","$sibseq_","$sibs_count_","$psibs_count_","$fsibs_count_","$spl_","$length_","$width_","$nonleaf_length_","$offset_","$sdfs_next_srch_action_list_","$sdfs_next_build_action_list_","$sdfs_prev_srch_action_list_","$sdfs_prev_build_action_list_","$height_","$sdfs_index_","$sdfs_leaf_index_","$sdfs_nonleaf_index_","$edfs_index_","$edfs_leaf_index_","$edfs_nonleaf_index_"],Ys=["$bpl_","$breadth_","$pbreadth_","$bfs_index_","$bfs_leaf_index_","$bfs_nonleaf_index_"],Hs=[["cspis","IS"],["cspbfs","LYR_IS"],["cspbfs","BFS_GETTER"],["cspget","GETTER"]],kn=D(Hs);kn.forEach(e=>{e.args=Y,e.rtrn=He});var js=["$sdfs_next_srch_action","$sdfs_next_build_action","$sdfs_prev_srch_action","$sdfs_prev_build_action"],Ws=[["cspact","SDFS_ACTION"]],Mn=D(Ws);Mn.forEach(e=>{e.args=Cn,e.rtrn=He});var Xs=["$self_","$root_","$parent_","$fstch_","$lstch_","$fstsib_","$lstsib_","$lsib_","$fstpsib_","$rsib_","$lstfsib_","$dlmost_","$drmost_","$lsib_of_fst_ance_having_lsib_","$rsib_of_fst_ance_having_rsib_","$luncle_","$runcle_","$lcin_","$rcin_","$sdfs_next_","$sdfs_prev_","$edfs_next_","$edfs_prev_"],Vs=["$lyr_next_","$lyr_prev_"],Js=[["ndget","ND_GETTER"],["cspbfs","LYR_ND_GETTER"]],Pn=D(Js);Pn.forEach(e=>{e.args=Y,e.rtrn=Q});var Zs=["$is_root_of","$is_parent_of","$is_ance_of","$is_inclusive_ance_of","$is_child_of","$is_fstch_of","$is_lstch_of","$is_des_of","$is_inclusive_des_of","$is_fsib_of","$is_rsib_of","$is_psib_of","$is_lsib_of","$is_sib_of","$is_inclusive_sib_of"],Ks=["$is_des_lyr_fst","$is_des_lyr_bst","$is_des_lyr_lst"],Qs=["$ance_dist","$sib_dist","$sdfs_des_index","$sdfs_des_leaf_index","$sdfs_des_nonleaf_index","$edfs_des_index","$edfs_des_leaf_index","$edfs_des_nonleaf_index","$des_spl","$des_offset"],zs=["$des_breadth","$des_pbreadth","$des_bpl","$bfs_des_index","$bfs_des_leaf_index","$bfs_des_nonleaf_index"],el=[["cspof","OF"],["cspbfs","REL_LYR_IS"],["getwnd","GET_WITH_ND"],["cspbfs","BFS_GET_WITH_ND"]],Un=D(el);Un.forEach(e=>{e.args=xe,e.rtrn=He});var tl=["$ance","$plance","$child","$sib","$psib","$fsib"],nl=[["ndgetwi","GET_ND_WITH_INDEX"]],Bn=D(nl);Bn.forEach(e=>{e.args=we,e.rtrn=Q});var rl=["$some_ances","$some_plances","$some_children","$some_sibs","$some_psibs","$some_fsibs"],_l=[["ndsgetwis","GET_NDS_WITH_INDEXES"]],Yn=D(_l);Yn.forEach(e=>{e.args=we,e.rtrn=oe});var sl=["$gen_ance","$gen_child_from_fst","$gen_child_from_lst","$gen_sib_from_fst","$gen_sib_from_lst","$gen_psib","$gen_fsib","$gen_lmost","$gen_rmost","$gen_sdfs_next","$gen_sdfs_next_leaf","$gen_sdfs_next_nonleaf","$gen_sdfs_prev","$gen_sdfs_prev_leaf","$gen_sdfs_prev_nonleaf","$gen_edfs_next","$gen_edfs_next_leaf","$gen_edfs_next_nonleaf","$gen_edfs_prev","$gen_edfs_prev_leaf","$gen_edfs_prev_nonleaf"],ll=["$gen_lyr_next","$gen_lyr_prev"],il=[["ndgen","GEN_ND"],["cspbfs","GEN_LYR_ND"]],Hn=D(il);Hn.forEach(e=>{e.args=Y,e.rtrn=St});var ol=["$gen_des_lyr","$gen_lyr"],dl=[["cspbfs","GEN_NDS"]],jn=D(dl);jn.forEach(e=>{e.args=Y,e.rtrn=Fn});var cl=["$des_lyrs_","$lyrs_"],fl=[["cspbfs","NDMAT_GETTER"]],Wn=D(fl);Wn.forEach(e=>{e.args=Y,e.rtrn=Nt});var al=["$des_lyr_next","$des_lyr_prev"],$l=[["cspbfs","REL_LYR_ND_GETTER"]],Xn=D($l);Xn.forEach(e=>{e.args=xe,e.rtrn=Q});var pl=["$bfs_next_","$bfs_prev_"],ul=["$sedfs_next_after_open_","$sedfs_next_after_close_"],hl=["$sedfs_prev_before_open_","$sedfs_prev_before_close_"],gl=[["cspbfs","BFS_ND_GETTER"],["sedfs","SEDFS_AFTER_ND_GETTER"],["sedfs","SEDFS_BEFORE_ND_GETTER"]],Vn=D(gl);Vn.forEach(e=>{e.args=Y,e.rtrn=Se});var bl=["$bfs_des_next","$bfs_des_prev"],xl=[["cspbfs","REL_BFS_ND_GETTER"]],Jn=D(xl);Jn.forEach(e=>{e.args=xe,e.rtrn=Se});var yl=["$ances_","$plances_","$children_","$sibs_","$psibs_","$fsibs_","$sdfs_","$sdfs_leafs_","$sdfs_nonleafs_","$edfs_"],El=["$lst_des_lyr_","$lst_lyr_","$own_lyr_","$plyr_"],ml=[["ndsget","NDS_GETTER"],["cspbfs","BFS_NDS_GETTER"]],Zn=D(ml);Zn.forEach(e=>{e.args=Y,e.rtrn=oe});var vl=["$some_des_lyrs","$some_lyrs"],Tl=[["cspbfs","GET_NDMAT_WITH_INDEXES"]],Kn=D(Tl);Kn.forEach(e=>{e.args=we,e.rtrn=Nt});var Dl=["$des_lyr","$lyr"],Il=[["cspbfs","GET_NDS_WITH_INDEX"]],Qn=D(Il);Qn.forEach(e=>{e.args=we,e.rtrn=oe});var wl=["$des_own_lyr","$des_plyr"],Sl=[["cspbfs","GET_NDS_WITH_ND"]],zn=D(Sl);zn.forEach(e=>{e.args=xe,e.rtrn=oe});var Nl=["$gen_des_lyr_next","$gen_des_lyr_prev"],Rl=[["cspbfs","GEN_LYR_ND_WITH_ND"]],er=D(Rl);er.forEach(e=>{e.args=xe,e.rtrn=St});var Ol=["$gen_sdfs_next_srch_action","$gen_sdfs_next_build_action","$gen_sdfs_prev_srch_action","$gen_sdfs_prev_build_action"],ql=[["cspact","GEN"]],tr=D(ql);tr.forEach(e=>{e.args=Y,e.rtrn=Gn});var Al=["$get_with_spl"],Cl=[["ndgetwo","GET_ND_WITH_PL"]],nr=D(Cl);nr.forEach(e=>{e.args=Ye,e.rtrn=Q});var Fl=["$sedfs_next","$sedfs_prev"],Gl=[["sedfs","SEDFS_ND_GETTER"]],rr=D(Gl);rr.forEach(e=>{e.args=Ye,e.rtrn=Se});var Ll=["$sedfs_"],kl=["$bfs_","$des_bfs_"],Ml=[["cspbfs","BFS_NDFLAGS_GETTER"],["sedfs","SEDFS_NDS_GETTER"]],_r=D(Ml);_r.forEach(e=>{e.args=Y,e.rtrn=Ln});var Pl=["$gen_bfs","$gen_des_bfs"],Ul=["$gen_sedfs_next_after_open","$gen_sedfs_next_after_close"],Bl=["$gen_sedfs_prev_before_open","$gen_sedfs_prev_before_close"],Yl=[["cspbfs","BFS_GEN_ND_AND_FLAG"],["sedfs","SEDFS_GEN_NEXT_AFTER_ND"],["sedfs","SEDFS_GEN_PREV_BEFORE_ND"]],sr=D(Yl);sr.forEach(e=>{e.args=Y,e.rtrn=Rt});var Hl=["$gen_sedfs_next","$gen_sedfs_prev"],jl=[["sedfs","SEDFS_GEN_ND_AND_FLAG"]],lr=D(jl);lr.forEach(e=>{e.args=Ye,e.rtrn=Rt});var ir=["$prepend_child","$append_child"],or=["$add_rsib","$add_lsib"],Wl=[...ir,...or],dr=["$prepend_children","$append_children"],cr=["$add_rsibs","$add_lsibs"],Xl=[...dr,...cr],Vl=["$insert_child_before","$insert_child_after","$insert_children_before","$insert_children_after"],Jl=["$connto","$add_parent","$add_parent_and_lsib","$add_or_goto_parent"],Zl=["$disconn","$rm_fstch","$rm_lstch","$rm_children","$rm_child","$rm_some_children"],Kl=["$noop","$erase","$erase_r","$replace_tree","$replace_child_tree_at","$replace_node","$replace_child_node_at","$swap_tree","$swap_node","$clone"],Ql=["$rm_fstch","$rm_lstch","$rm_children","$erase_r"],zl=["$append_child","$prepend_child","$append_children","$prepend_children","$rm_child","$rm_some_children"],ei=["$insert_child_at","$insert_children_at","$replace_child_at"],ti=["$cmmn_ances","$fst_cmmn_ance","$dist","$path_to"],ni=["$deep_lseq","$deep_steq"],ri=["$cond_leaf_sdfs_next","$gen_cond_leaf_sdfs_next","$cond_leaf_sedfs_next","$gen_cond_leaf_sedfs_next"],_i=["$is_repr_enabled","$enable_repr","$disable_repr"],si=["$is_disp_enabled","$expand","$foldup","$expand_all","$foldup_all"],li=["$more_less","$gen_visit","$visit"],ii=["$dump","$to_nest"],oi=["ids_","slots_","slot","gen_entry","nodes_","trees_","isolates_","tree","node","erase_isolated","dump","load_nd_from_dump","load_nd_from_nest","merge","defrag"],di=["$extract_vertexes"],ci=e=>e.endsWith("_"),fi=["$append_child","$append_children","$prepend_child","$prepend_children","$insert_child_after","$insert_child_before","$insert_children_after","$insert_children_before"];fr.exports={is_getter_fn:ci,args_id0:Y,args_id01:xe,args_id0_idxs:we,args_id0_o0:Cn,args_id0_os:Ye,rtrn_orig:He,rtrn_nd:Q,rtrn_nds:oe,rtrn_ndg:St,rtrn_ndsg:Fn,rtrn_ndmat:Nt,rtrn_nd_and_flag:Se,rtrn_og:Gn,rtrn_ndflags:Ln,rtrn_ndflagg:Rt,IS:Ps,LYR_IS:Us,BFS_GETTER:Ys,GETTER:Bs,add_$args_id0_$rtrn_orig:kn,SDFS_ACTION:js,add_$args_id0_o0_$rtrn_orig:Mn,ND_GETTER:Xs,LYR_ND_GETTER:Vs,BFS_ND_GETTER:pl,add_$args_id0_$rtrn_nd:Pn,OF:Zs,REL_LYR_IS:Ks,GET_WITH_ND:Qs,BFS_GET_WITH_ND:zs,add_$args_id01_$rtrn_orig:Un,GET_ND_WITH_INDEX:tl,add_$args_id0_idx0_$rtrn_nd:Bn,GET_NDS_WITH_INDEXES:rl,add_$args_id0_idxs_$rtrn_nds:Yn,GEN_ND:sl,GEN_LYR_ND:ll,add_$args_id0_$rtrn_ndg:Hn,GEN_NDS:ol,add_$args_id0_$rtrn_ndsg:jn,NDMAT_GETTER:cl,add_$args_id0_$rtrn_ndmat:Wn,REL_LYR_ND_GETTER:al,add_$args_id01_$rtrn_nd:Xn,SEDFS_AFTER_ND_GETTER:ul,SEDFS_BEFORE_ND_GETTER:hl,add_$args_id0_$rtrn_nd_and_flag:Vn,REL_BFS_ND_GETTER:bl,add_$args_id01_$rtrn_nd_and_flag:Jn,NDS_GETTER:yl,BFS_NDS_GETTER:El,add_$args_id0_$rtrn_nds:Zn,GET_NDMAT_WITH_INDEXES:vl,add_$args_id0_idxs_$rtrn_ndmat:Kn,GET_NDS_WITH_INDEX:Dl,add_$args_id0_idx0_$rtrn_nds:Qn,GET_NDS_WITH_ND:wl,add_$args_id01_$rtrn_nds:zn,GEN_LYR_ND_WITH_ND:Nl,add_$args_id01_$rtrn_ndg:er,GEN:Ol,add_$args_id0_$rtrn_og:tr,GET_ND_WITH_PL:Al,add_$args_id0_o0_$rtrn_nd:nr,SEDFS_ND_GETTER:Fl,add_$args_id0_o0_$rtrn_nd_and_flag:rr,BFS_NDFLAGS_GETTER:kl,SEDFS_NDS_GETTER:Ll,add_$args_id0_$rtrn_ndflags:_r,BFS_GEN_ND_AND_FLAG:Pl,SEDFS_GEN_NEXT_AFTER_ND:Ul,SEDFS_GEN_PREV_BEFORE_ND:Bl,add_$args_id0_$rtrn_ndflagg:sr,SEDFS_GEN_ND_AND_FLAG:Hl,add_$args_id0_o0_$rtrn_ndflagg:lr,BSC_PEND_OP:ir,BSC_ASIB_OP:or,BSC_ADD_OP:Wl,MULTI_PEND_OP:dr,MULTI_ASIB_OP:cr,MULTI_ADD_OP:Xl,INSERT_OP:Vl,UPSTREAM_OP:Jl,DISCONN_OP:Zl,OP:Kl,COND_LEAF:ri,REPR:_i,UI:si,CMP:ni,RELATION_ANCE:ti,CHDES_OP_WITH_ZERO:Ql,CHDES_OP_WITH_ONE:zl,CHDES_OP_WITH_SIBSEQ:ei,VISIT:li,DUMP:ii,FOREST:oi,UTIL:di,RM_METHOD_ARY_OF_MUSTLEAF:fi}});var xr=b(($d,br)=>{var g=P(),{FLAG_DICT:F}=X(),{iflet:je}=te(),V=Array.from,$={};$.$gen_des_lyr=function*(e,t,n,r,s,l,_,i,o){let d=[_[0]];for(;d.length>0;)yield d,d=V(g.$nlyr(t,n,d))};var de=$.$gen_des_lyr;$.$gen_lyr=function*(e,t,n,r,s,l,_,i,o){let d=g.lst0(g.$ance(r,_[0]),_[0]);yield*de(e,t,n,r,s,l,[d],i,o)};var Ne=$.$gen_lyr;$.$des_lyrs_=(e,t,n,r,s,l,_,i,o)=>V(de(e,t,n,r,s,l,_,i,o));$.$lyrs_=(e,t,n,r,s,l,_,i,o)=>V(Ne(e,t,n,r,s,l,_,i,o));$.$lst_des_lyr_=(e,t,n,r,s,l,_,i,o)=>g.lst0(de(e,t,n,r,s,l,_,i,o),_[0]);$.$lst_lyr_=(e,t,n,r,s,l,_,i,o)=>{let d=g.lst0(g.$ance(r,_[0]),_[0]);return g.lst0(Ne(e,t,n,r,s,l,[d],i,o),d)};$.$own_lyr_=(e,t,n,r,s,l,_,i,o)=>{let d=Ne(e,t,n,r,s,l,_,i,o),c=g.lst0(g.$ance(r,_[0]),_[0]),f=g.dist_after(g.$ance(r,_[0]),_[0],c);return g.which(d,f)};var ne=$.$own_lyr_;$.$plyr_=(e,t,n,r,s,l,_,i,o)=>{let d=r[_[0]];return d===0?[]:ne(e,t,n,r,s,l,[d],i,o)};$.$bfs_des_next=(e,t,n,r,s,l,_,i,o)=>{let d=_[1],c=g.dist_after(g.$ance(r,_[0]),_[0],d);if(c===1/0)return[0,void 0];let f=[d],a=0;for(;f.length>0&&a!==c;)f=V(g.$nlyr(t,n,f)),a=a+1;let p;for(p=0;p<f.length&&f[p]!==_[0];p++);let h;return p===f.length-1?(f=V(g.$nlyr(t,n,f)),f.length===0?[0,void 0]:(f.length===1?h=F.lyrbst:h=F.lyrfst,[f[0],h])):p===f.length-2?[f[f.length-1],F.lyrlst]:[f[p+1],F.lyrmid]};var ar=(e,t,n,r,s,l,_,i,o,d)=>e(t,n,r,s,l,_,[i[0],g.lst0(g.$ance(s,i[0]),i[0])],o,d);$.$bfs_next_=(e,t,n,r,s,l,_,i,o)=>ar($.$bfs_des_next,e,t,n,r,s,l,_,i,o);$.$bfs_des_prev=(e,t,n,r,s,l,_,i,o)=>{let d=_[1];if(d===_[0])return[0,F.lyrbst];let c=g.dist_after(g.$ance(r,_[0]),_[0],d);if(c===1/0)return[0,void 0];let f=[d],a=[],p=0;for(;f.length>0&&p!==c;)a=f,f=V(g.$nlyr(t,n,f)),p=p+1;let h;for(h=0;h<f.length&&f[h]!==_[0];h++);let M;return h===0?(f=a,f.length===0||(f.length===1?M=F.lyrbst:M=F.lyrlst),[f[f.length-1],M]):h===1?[f[0],F.lyrfst]:[f[h-1],F.lyrmid]};$.$bfs_prev_=(e,t,n,r,s,l,_,i,o)=>ar($.$bfs_des_prev,e,t,n,r,s,l,_,i,o);$.$gen_des_bfs=function*(e,t,n,r,s,l,_,i,o){let d=[_[0]];for(yield[_[0],F.lyrbst];d.length>0;)if(d=V(g.$nlyr(t,n,d)),d.length!==0)if(d.length===1)yield[d[0],F.lyrbst];else{yield[d[0],F.lyrfst];for(let c=1;c<d.length-1;c++)yield[d[c],F.lyrmid];yield[d[d.length-1],F.lyrlst]}};var Re=$.$gen_des_bfs;$.$gen_bfs=(e,t,n,r,s,l,_,i,o)=>Re(e,t,n,r,s,l,[g.lst0(g.$ance(r,_[0]),_[0])],i,o);var We=$.$gen_bfs;$.$bfs_=(e,t,n,r,s,l,_,i,o)=>V(We(e,t,n,r,s,l,_,i,o));$.$des_bfs_=(e,t,n,r,s,l,_,i,o)=>V(Re(e,t,n,r,s,l,_,i,o));$.$some_des_lyrs=(e,t,n,r,s,l,_,i,o)=>g.some(de(e,t,n,r,s,l,_,i,o),i);$.$some_lyrs=(e,t,n,r,s,l,_,i,o)=>g.some(Ne(e,t,n,r,s,l,_,i,o),i);$.$des_lyr=(e,t,n,r,s,l,_,i,o)=>g.which(de(e,t,n,r,s,l,_,i,o),i[0]);$.$lyr=(e,t,n,r,s,l,_,i,o)=>g.which(Ne(e,t,n,r,s,l,_,i,o),i[0]);$.$des_own_lyr=(e,t,n,r,s,l,_,i,o)=>{let d=_[1],c=g.dist_after(g.$ance(r,_[0]),_[0],d);if(c===1/0)return[];{let f=de(e,t,n,r,s,l,[d],i,o);return g.which(f,c)}};var re=$.$des_own_lyr;$.$des_plyr=(e,t,n,r,s,l,_,i,o)=>{let d=r[_[0]];return d===0?[]:re(e,t,n,r,s,l,[d,_[1]],i,o)};$.$breadth_=(e,t,n,r,s,l,_,i,o)=>ne(e,t,n,r,s,l,_,i,o).indexOf(_[0]);$.$pbreadth_=(e,t,n,r,s,l,_,i,o)=>$.$plyr_(e,t,n,r,s,l,_,i,o).indexOf(r[_[0]]);$.$des_breadth=(e,t,n,r,s,l,_,i,o)=>re(e,t,n,r,s,l,_,i,o).indexOf(_[0]);$.$des_pbreadth=(e,t,n,r,s,l,_,i,o)=>$.$des_plyr(e,t,n,r,s,l,_,i,o).indexOf(r[_[0]]);var $r=(e,t,n,r,s,l,_,i,o,d)=>e(t,n,r,s,l,_,i,o,d)[0]===i[0],pr=(e,t,n,r,s,l,_,i,o,d)=>{let c=e(t,n,r,s,l,_,i,o,d);return c[c.length-1]===i[0]},ur=(e,t,n,r,s,l,_,i,o,d,c)=>e(n,r,s,l,_,i,o,d,c)&&t(n,r,s,l,_,i,o,d,c);$.$is_lyr_fst=(e,t,n,r,s,l,_,i,o)=>$r(ne,e,t,n,r,s,l,_,i,o);$.$is_lyr_lst=(e,t,n,r,s,l,_,i,o)=>pr(ne,e,t,n,r,s,l,_,i,o);$.$is_lyr_bst=(e,t,n,r,s,l,_,i,o)=>ur($.$is_lyr_fst,$.$is_lyr_lst,e,t,n,r,s,l,_,i,o);$.$is_des_lyr_fst=(e,t,n,r,s,l,_,i,o)=>$r(re,e,t,n,r,s,l,_,i,o);$.$is_des_lyr_lst=(e,t,n,r,s,l,_,i,o)=>pr(re,e,t,n,r,s,l,_,i,o);$.$is_des_lyr_bst=(e,t,n,r,s,l,_,i,o)=>ur($.$is_des_lyr_fst,$.$is_des_lyr_lst,e,t,n,r,s,l,_,i,o);function*hr(e,t,n,r,s,l,_,i,o,d){let c=e(t,n,r,s,l,_,i,o,d),f=c.indexOf(i[0]);if(!(f<0)){if(f!==c.length-1)for(let a of c.slice(f))yield a}}$.$gen_lyr_next=(e,t,n,r,s,l,_,i,o)=>hr(ne,e,t,n,r,s,l,_,i,o);$.$gen_des_lyr_next=(e,t,n,r,s,l,_,i,o)=>hr(re,e,t,n,r,s,l,_,i,o);function*gr(e,t,n,r,s,l,_,i,o,d){let c=e(t,n,r,s,l,_,i,o,d),f=c.indexOf(i[0]);if(f>0){let a=c.slice(f);for(let p=f-1;p>-1;p--)yield c[p]}}$.$gen_lyr_prev=(e,t,n,r,s,l,_,i,o)=>gr(ne,e,t,n,r,s,l,_,i,o);$.$gen_des_lyr_prev=(e,t,n,r,s,l,_,i,o)=>gr(re,e,t,n,r,s,l,_,i,o);$.$lyr_next_=(e,t,n,r,s,l,_,i,o)=>{let d=ne(e,t,n,r,s,l,_,i,o),c=d.indexOf(_[0]);return je(c<0,0,c===d.length-1,0,d[c+1])};$.$lyr_prev_=(e,t,n,r,s,l,_,i,o)=>{let d=ne(e,t,n,r,s,l,_,i,o),c=d.indexOf(_[0]);return je(c<0,0,c===0,0,d[c-1])};$.$des_lyr_next=(e,t,n,r,s,l,_,i,o)=>{let d=re(e,t,n,r,s,l,_,i,o),c=d.indexOf(_[0]);return je(c<0,0,c===d.length-1,0,d[c+1])};$.$des_lyr_prev=(e,t,n,r,s,l,_,i,o)=>{let d=re(e,t,n,r,s,l,_,i,o),c=d.indexOf(_[0]);return je(c<0,0,c===0,0,d[c-1])};function ye(e,t,n,r,s,l,_,i,o,d,c,f,a){if(!r(c[0]))return-1;if(c[1]===c[0])return 0;let p=e?[c[1],c[0]]:c,h=t(s,l,_,i,o,d,p,f,a);h=t(s,l,_,i,o,d,p,f,a);let M=-1;if(!(e===1&&!g.of(g.$ance(i,c[0]),c[1])))for(let[pe,jo]of h)if(n(pe,c[0])){M=M+1;break}else r(pe)&&(M=M+1);return M}$.$bfs_index_=(e,t,n,r,s,l,_,i,o)=>ye(0,We,(d,c)=>d===c,d=>!0,e,t,n,r,s,l,_,i,o);$.$bfs_leaf_index_=(e,t,n,r,s,l,_,i,o)=>ye(0,We,(d,c)=>d===c&&t[d]===0,d=>t[d]===0,e,t,n,r,s,l,_,i,o);$.$bfs_nonleaf_index_=(e,t,n,r,s,l,_,i,o)=>ye(0,We,(d,c)=>d===c&&t[d]!==0,d=>t[d]!==0,e,t,n,r,s,l,_,i,o);$.$bfs_des_index=(e,t,n,r,s,l,_,i,o)=>ye(1,Re,(d,c)=>d===c,d=>!0,e,t,n,r,s,l,_,i,o);$.$bfs_des_leaf_index=(e,t,n,r,s,l,_,i,o)=>ye(1,Re,(d,c)=>d===c&&t[d]===0,d=>t[d]===0,e,t,n,r,s,l,_,i,o);$.$bfs_des_nonleaf_index=(e,t,n,r,s,l,_,i,o)=>ye(1,Re,(d,c)=>d===c&&t[d]!==0,d=>t[d]!==0,e,t,n,r,s,l,_,i,o);$.$des_bpl=(e,t,n,r,s,l,_,i,o)=>{let d=[],c=_[1],f=de(e,t,n,r,s,l,[c],i,o),a=g.$ance(r,_[0]),p=V(a);if(!p.includes(c)&&_[0]!==c)return[-1];p.reverse(),p.push(_[0]),p=p.slice(p.indexOf(c));for(let h of p){let pe=f.next().value.indexOf(h);d.push(pe)}return d};$.$bpl_=(e,t,n,r,s,l,_,i,o)=>{let d=g.lst0(g.$ance(r,_[0]),_[0]);return $.$des_bpl(e,t,n,r,s,l,[_[0],d],i,o)};br.exports=$});var qt=b((ud,Er)=>{var yr=be(),{Act:u,srchk_to_buildk:Xe,FLAG_DICT:pd}=X(),q={};q.$sdfs_next_srch_action=(e,t,n,r,s,l,_,i,o)=>{let d=o[0],c=_[0];if(d===u.DIRECTION.up){let f=n[c];if(f!==0)return new u("$rsib_",u.DIRECTION.right,f);{let a=r[c];return a===0?new u("$end_",u.DIRECTION.up,a):new u("$parent_",u.DIRECTION.up,a)}}else{let f=t[c];if(f!==0)return new u("$fstch_",u.DIRECTION.down,f);{let a=n[c];if(a!==0)return new u("$rsib_",u.DIRECTION.right,a);{let p=r[c];return p===0?new u("$end_",u.DIRECTION.up,p):new u("$parent_",u.DIRECTION.up,p)}}}};q.$sdfs_next_build_action=(e,t,n,r,s,l,_,i,o)=>{let d=q.$sdfs_next_srch_action(e,t,n,r,s,l,_,i,o);return d.k=d.d===u.DIRECTION.right||d.d===u.DIRECTION.down?Xe(d.k):d.k,d};q.$sdfs_prev_srch_action=(e,t,n,r,s,l,_,i,o)=>{let d=o[0],c=_[0];if(d===u.DIRECTION.up){let f=s[c];if(f!==0)return new u("$lsib_",u.DIRECTION.left,f);{let a=r[c];return a===0?new u("$end_",u.DIRECTION.up,a):new u("$parent_",u.DIRECTION.up,a)}}else if(t[c]===0){let f=s[c];if(f!==0)return new u("$lsib_",u.DIRECTION.left,f);{let a=r[c];return a===0?new u("$end_",u.DIRECTION.up,a):new u("$parent_",u.DIRECTION.up,a)}}else{let f=l[c];return new u("$lstch_",u.DIRECTION.down,f)}};q.$sdfs_prev_build_action=(e,t,n,r,s,l,_,i,o)=>{let d=q.$sdfs_prev_srch_action(e,t,n,r,s,l,_,i,o);return d.k=d.d===u.DIRECTION.left||d.d===u.DIRECTION.down?Xe(d.k,!0):d.k==="$parent_"&&n[_[0]]===0?"$add_or_goto_parent":d.k,d};q.$gen_sdfs_next_srch_action=function*(e,t,n,r,s,l,_,i,o){let d=yr.$drmost_(e,t,n,r,s,l,_,i,o);yield{k:"$self_",d:u.DIRECTION.down};let c=_[0];if(c!==d){let f=q.$sdfs_next_srch_action(e,t,n,r,s,l,[c],i,[u.DIRECTION.down]);for(;f.id!==0&&(yield{k:f.k,d:f.d},f.id!==d);)f=q.$sdfs_next_srch_action(e,t,n,r,s,l,[f.id],i,[f.d])}};q.$gen_sdfs_next_build_action=function*(e,t,n,r,s,l,_,i,o){let d=q.$gen_sdfs_next_srch_action(e,t,n,r,s,l,_,i,o);for(let c of d)c.k=c.d===u.DIRECTION.right||c.d===u.DIRECTION.down?Xe(c.k):c.k,yield c};q.$gen_sdfs_prev_srch_action=function*(e,t,n,r,s,l,_,i,o){let d=yr.$root_(e,t,n,r,s,l,_,i,o);yield{k:"$self_",d:u.DIRECTION.left,id:_[0]};let c=_[0];if(c!==d){let f=q.$sdfs_prev_srch_action(e,t,n,r,s,l,[c],i,[u.DIRECTION.left]);for(;f.id!==0&&(yield{k:f.k,d:f.d,id:f.id},f.id!==d);)f=q.$sdfs_prev_srch_action(e,t,n,r,s,l,[f.id],i,[f.d])}};q.$gen_sdfs_prev_build_action=function*(e,t,n,r,s,l,_,i,o){let d=q.$gen_sdfs_prev_srch_action(e,t,n,r,s,l,_,i,o);for(let c of d)c.k=c.d===u.DIRECTION.left||c.d===u.DIRECTION.down?Xe(c.k,!0):c.k==="$parent_"&&n[c.id]===0?"$add_or_goto_parent":c.k,yield c};Er.exports=q});var qe=b((hd,vr)=>{var z=P(),Oe=be(),T={};T.$gen_ance=(e,t,n,r,s,l,_,i,o)=>z.$ance(r,_[0]);T.$gen_child_from_fst=(e,t,n,r,s,l,_,i,o)=>z.$fch(t,n,_[0]);T.$gen_child_from_lst=(e,t,n,r,s,l,_,i,o)=>z.$lch(l,s,_[0]);T.$gen_sib_from_fst=(e,t,n,r,s,l,_,i,o)=>z.$sibff(t,n,r,_[0]);T.$gen_sib_from_lst=(e,t,n,r,s,l,_,i,o)=>z.$sibfl(l,s,r,_[0]);T.$gen_psib=(e,t,n,r,s,l,_,i,o)=>z.$psib(s,_[0]);T.$gen_fsib=(e,t,n,r,s,l,_,i,o)=>z.$fsib(n,_[0]);T.$gen_rmost=(e,t,n,r,s,l,_,i,o)=>z.$drmost(l,_[0]);T.$gen_lmost=(e,t,n,r,s,l,_,i,o)=>z.$dlmost(t,_[0]);function*mr(e,t,n,r,s,l,_,i,o,d,c){let f=o[0];for(;f!==0&&(yield f,f!==t);)f=Oe[e](n,r,s,l,_,i,[f],d,c)}T.$gen_sdfs_next=function*(e,t,n,r,s,l,_,i,o){let d=Oe.$drmost_(e,t,n,r,s,l,_,i,o);yield*mr("$sdfs_next_",d,e,t,n,r,s,l,_,i,o)};T.$gen_sdfs_prev=function*(e,t,n,r,s,l,_,i,o){let d=Oe.$root_(e,t,n,r,s,l,_,i,o);yield*mr("$sdfs_prev_",d,e,t,n,r,s,l,_,i,o)};function*Ve(e,t,n,r,s,l,_,i,o,d){let c=T[e](t,n,r,s,l,_,i,o,d);for(let f of c)n[f]===0&&(yield f)}T.$gen_sdfs_next_leaf=function*(e,t,n,r,s,l,_,i,o){yield*Ve("$gen_sdfs_next",e,t,n,r,s,l,_,i,o)};T.$gen_sdfs_prev_leaf=function*(e,t,n,r,s,l,_,i,o){yield*Ve("$gen_sdfs_prev",e,t,n,r,s,l,_,i,o)};function*Je(e,t,n,r,s,l,_,i,o,d){let c=T[e](t,n,r,s,l,_,i,o,d);for(let f of c)n[f]!==0&&(yield f)}T.$gen_sdfs_next_nonleaf=function*(e,t,n,r,s,l,_,i,o){yield*Je("$gen_sdfs_next",e,t,n,r,s,l,_,i,o)};T.$gen_sdfs_prev_nonleaf=function*(e,t,n,r,s,l,_,i,o){yield*Je("$gen_sdfs_prev",e,t,n,r,s,l,_,i,o)};T.$gen_edfs_next=function*(e,t,n,r,s,l,_,i,o){let d=_[0];for(;d!==0;)yield d,d=Oe.$edfs_next_(e,t,n,r,s,l,[d],i,o)};T.$gen_edfs_prev=function*(e,t,n,r,s,l,_,i,o){let d=_[0];for(;d!==0;)yield d,d=Oe.$edfs_prev_(e,t,n,r,s,l,[d],i,o)};T.$gen_edfs_next_leaf=function*(e,t,n,r,s,l,_,i,o){yield*Ve("$gen_edfs_next",e,t,n,r,s,l,_,i,o)};T.$gen_edfs_prev_leaf=function*(e,t,n,r,s,l,_,i,o){yield*Ve("$gen_edfs_prev",e,t,n,r,s,l,_,i,o)};T.$gen_edfs_next_nonleaf=function*(e,t,n,r,s,l,_,i,o){yield*Je("$gen_edfs_next",e,t,n,r,s,l,_,i,o)};T.$gen_edfs_prev_nonleaf=function*(e,t,n,r,s,l,_,i,o){yield*Je("$gen_edfs_prev",e,t,n,r,s,l,_,i,o)};vr.exports=T});var At=b((gd,Dr)=>{var U=P(),Tr=qe(),H={};H.$ance_dist=(e,t,n,r,s,l,_,i,o)=>U.dist_after(U.$ance(r,_[0]),_[0],_[1]);H.$sib_dist=(e,t,n,r,s,l,_,i,o)=>U.dist_dual(U.$sibff(t,n,r,_[0]),_[0],_[1]);function Ee(e,t,n,r,s,l,_,i,o,d){let c=i[0],f=i[1];return U.of(U.$ance(s,c),f)?U.seq(Tr[e](t,n,r,s,l,_,[f],o,d),c):-1}H.$sdfs_des_index=(e,t,n,r,s,l,_,i,o)=>_[0]===_[1]?0:Ee("$gen_sdfs_next",e,t,n,r,s,l,_,i,o);H.$sdfs_des_leaf_index=(e,t,n,r,s,l,_,i,o)=>_[0]===_[1]&&t[_[0]]===0?0:Ee("$gen_sdfs_next_leaf",e,t,n,r,s,l,_,i,o);H.$sdfs_des_nonleaf_index=(e,t,n,r,s,l,_,i,o)=>_[0]===_[1]&&t[_[0]]!==0?0:Ee("$gen_sdfs_next_nonleaf",e,t,n,r,s,l,_,i,o);H.$edfs_des_index=(e,t,n,r,s,l,_,i,o)=>_[0]===_[1]?0:Ee("$gen_edfs_prev",e,t,n,r,s,l,_,i,o);H.$edfs_des_leaf_index=(e,t,n,r,s,l,_,i,o)=>_[0]===_[1]&&t[_[0]]!==0?0:Ee("$gen_edfs_prev_leaf",e,t,n,r,s,l,_,i,o);H.$edfs_des_nonleaf_index=(e,t,n,r,s,l,_,i,o)=>_[0]===_[1]&&t[_[0]]!==0?0:Ee("$gen_edfs_prev_nonleaf",e,t,n,r,s,l,_,i,o);H.$des_spl=(e,t,n,r,s,l,_,i,o)=>{let d=[],c=_[1];if(c===_[0])return[];let f=!1,a=U.$ance(r,_[0]);for(let p of a){if(p===c){f=!0;break}let h=U.seq(U.$sibff(t,n,r,p),p);d.unshift(h)}return f?(d.push(U.seq(U.$sibff(t,n,r,_[0]),_[0])),d):[-1]};H.$des_offset=(e,t,n,r,s,l,_,i,o)=>{let d=_[1],c=Tr.$gen_sdfs_next(e,t,n,r,s,l,[d],i,o),f=0,a=!1,p=!1;for(let h of c){if(_[0]===h){if(p=!0,t[h]===0)return f;a=!0}else if(t[h]===0&&a)return f;t[h]===0&&(f=f+1)}return p?f:-1};Dr.exports=H});var Sr=b((bd,wr)=>{var S=P(),Ct=be(),Ze=qe(),ai=At(),Ir=qt(),C={};C.$depth_=(e,t,n,r,s,l,_,i,o)=>S.count(S.$ance(r,_[0]));C.$children_count_=(e,t,n,r,s,l,_,i,o)=>S.count(S.$fch(t,n,_[0]));C.$sibseq_=(e,t,n,r,s,l,_,i,o)=>S.seq(S.$sibff(t,n,r,_[0]),_[0]);C.$sibs_count_=(e,t,n,r,s,l,_,i,o)=>S.count(S.$sibff(t,n,r,_[0]));C.$psibs_count_=(e,t,n,r,s,l,_,i,o)=>S.count(S.$psib(s,_[0]));C.$fsibs_count_=(e,t,n,r,s,l,_,i,o)=>S.count(S.$fsib(n,_[0]));C.$spl_=(e,t,n,r,s,l,_,i,o)=>{let d=S.reverse_then_push_self(S.$ance(r,_[0]),_[0]);return d=d.slice(1),d.map(f=>S.seq(S.$sibff(t,n,r,f),f))};C.$length_=(e,t,n,r,s,l,_,i,o)=>S.count(Ze.$gen_sdfs_next(e,t,n,r,s,l,_,i,o));C.$width_=(e,t,n,r,s,l,_,i,o)=>S.count(Ze.$gen_sdfs_next_leaf(e,t,n,r,s,l,_,i,o));C.$nonleaf_length_=(e,t,n,r,s,l,_,i,o)=>S.count(Ze.$gen_sdfs_next_nonleaf(e,t,n,r,s,l,_,i,o));C.$offset_=(e,t,n,r,s,l,_,i,o)=>{let d=Ct.$root_(e,t,n,r,s,l,_,i,o);return ai.$des_offset(e,t,n,r,s,l,[_[0],d],i)};["sdfs_next_srch_action_list","sdfs_next_build_action_list","sdfs_prev_srch_action_list","sdfs_prev_build_action_list"].forEach(e=>{C["$"+e+"_"]=(t,n,r,s,l,_,i,o,d)=>Array.from(Ir["$gen_"+e.replace("_list","")](t,n,r,s,l,_,i,o,d))});C.$height_=(e,t,n,r,s,l,_,i,o)=>{let d=1,c=d,f=Ir.$gen_sdfs_next_srch_action(e,t,n,r,s,l,[_[0]],i,o);for(let a of f)a.k==="$fstch_"?d=d+1:a.k==="$parent_"&&(d=d-1),d>c&&(c=d);return c};var $i=(e,t,n,r,s,l,_,i,o,d)=>{let c=Ct.$root_(t,n,r,s,l,_,i,o,d),f=e.includes("sdfs")?c:Ct.$dlmost_(t,n,r,s,l,_,[c],o,d),a=Ze[e](t,n,r,s,l,_,[f],o,d);return S.seq(a,i[0])};["$gen_sdfs_next","$gen_sdfs_next_leaf","$gen_sdfs_next_nonleaf","$gen_edfs_next","$gen_edfs_next_leaf","$gen_edfs_next_nonleaf"].forEach(e=>{let t=e.replace("gen_","").replace("_next","")+"_index_";C[t]=(n,r,s,l,_,i,o,d,c)=>$i(e,n,r,s,l,_,i,o,d,c)});wr.exports=C});var Rr=b((xd,Nr)=>{var N=P(),A={};A.$is_root_of=(e,t,n,r,s,l,_,i,o)=>r[_[0]]===0&&_[0]===_[1]||N.lst0(N.$ance(r,_[1]),0)===_[0];A.$is_parent_of=(e,t,n,r,s,l,_,i,o)=>r[_[1]]===_[0];A.$is_ance_of=(e,t,n,r,s,l,_,i,o)=>N.of(N.$ance(r,_[1]),_[0]);A.$is_inclusive_ance_of=(e,t,n,r,s,l,_,i,o)=>_[0]===_[1]||N.of(N.$ance(r,_[1]),_[0]);A.$is_child_of=(e,t,n,r,s,l,_,i,o)=>N.of(N.$fch(t,n,_[1]),_[0]);A.$is_fstch_of=(e,t,n,r,s,l,_,i,o)=>t[_[1]]===_[0];A.$is_lstch_of=(e,t,n,r,s,l,_,i,o)=>l[_[1]]===_[0];A.$is_des_of=(e,t,n,r,s,l,_,i,o)=>N.of(N.$ance(r,_[0]),_[1]);A.$is_inclusive_des_of=(e,t,n,r,s,l,_,i,o)=>_[0]===_[1]||N.of(N.$ance(r,_[0]),_[1]);A.$is_fsib_of=(e,t,n,r,s,l,_,i,o)=>N.of(N.$fsib(n,_[1]),_[0]);A.$is_rsib_of=(e,t,n,r,s,l,_,i,o)=>n[_[1]]===_[0];A.$is_psib_of=(e,t,n,r,s,l,_,i,o)=>N.of(N.$psib(s,_[1]),_[0]);A.$is_lsib_of=(e,t,n,r,s,l,_,i,o)=>s[_[1]]===_[0];A.$is_sib_of=(e,t,n,r,s,l,_,i,o)=>_[0]!==_[1]&&N.of(N.$sibff(t,n,r,_[1]),_[0]);A.$is_inclusive_sib_of=(e,t,n,r,s,l,_,i,o)=>_[0]===_[1]||N.of(N.$sibff(t,n,r,_[1]),_[0]);Nr.exports=A});var qr=b((yd,Or)=>{var G=P(),ce={};ce.$ance=(e,t,n,r,s,l,_,i,o)=>G.which(G.$ance(r,_[0]),i[0]);ce.$plance=(e,t,n,r,s,l,_,i,o)=>{let d=G.reverse_then_push_self(G.$ance(r,_[0]),_[0]);return G.which(d,i[0])};ce.$child=(e,t,n,r,s,l,_,i,o)=>G.which(G.$fch(t,n,_[0]),i[0]);ce.$sib=(e,t,n,r,s,l,_,i,o)=>G.which(G.$sibff(t,n,r,_[0]),i[0]);ce.$psib=(e,t,n,r,s,l,_,i,o)=>G.which(G.$psib(s,_[0]),i[0]);ce.$fsib=(e,t,n,r,s,l,_,i,o)=>G.which(G.$fsib(n,_[0]),i[0]);Or.exports=ce});var Cr=b((Ed,Ar)=>{var L=P(),fe={};fe.$some_ances=(e,t,n,r,s,l,_,i,o)=>L.some(L.$ance(r,_[0]),i);fe.$some_plances=(e,t,n,r,s,l,_,i,o)=>{let d=L.reverse_then_push_self(L.$ance(r,_[0]),_[0]);return L.some(d,i)};fe.$some_children=(e,t,n,r,s,l,_,i,o)=>L.some(L.$fch(t,n,_[0]),i);fe.$some_sibs=(e,t,n,r,s,l,_,i,o)=>L.some(L.$sibff(t,n,r,_[0]),i);fe.$some_psibs=(e,t,n,r,s,l,_,i,o)=>L.some(L.$psib(s,_[0]),i);fe.$some_fsibs=(e,t,n,r,s,l,_,i,o)=>L.some(L.$fsib(n,_[0]),i);Ar.exports=fe});var Lr=b((vd,Gr)=>{var md=ge(),Fr=P(),{FLAG_DICT:_e}=X(),v={},pi=(e,t,n,r,s,l,_,i,o)=>n[_[0]]?[n[_[0]],0]:[r[_[0]],1];v.$sedfs_next=(e,t,n,r,s,l,_,i,o)=>{if(o[0]===_e.close)return pi(e,t,n,r,s,l,_,i,o);{let c=t[_[0]];return c?[c,_e.open]:[_[0],_e.close]}};v.$sedfs_next_after_open_=(e,t,n,r,s,l,_,i,o)=>v.$sedfs_next(e,t,n,r,s,l,_,i,[0]);v.$sedfs_next_after_close_=(e,t,n,r,s,l,_,i,o)=>v.$sedfs_next(e,t,n,r,s,l,_,i,[1]);v.$gen_sedfs_next=function*(e,t,n,r,s,l,_,i,o){let d=_[0],c=o[0];for(yield[d,c];!(d===_[0]&&c===_e.close);)[d,c]=v.$sedfs_next(e,t,n,r,s,l,[d],[],[c]),yield[d,c]};v.$gen_sedfs_next_after_open=function*(e,t,n,r,s,l,_,i,o){yield*v.$gen_sedfs_next(e,t,n,r,s,l,_,i,[0])};v.$gen_sedfs_next_after_close=function*(e,t,n,r,s,l,_,i,o){yield*v.$gen_sedfs_next(e,t,n,r,s,l,_,i,[1])};v.$sedfs_=(e,t,n,r,s,l,_,i,o)=>Array.from(v.$gen_sedfs_next_after_open(e,t,n,r,s,l,_,i,o));var ui=(e,t,n,r,s,l,_,i,o)=>s[_[0]]?[s[_[0]],1]:[r[_[0]],0];v.$sedfs_prev=(e,t,n,r,s,l,_,i,o)=>o[0]===_e.open?ui(e,t,n,r,s,l,_,i,o):t[_[0]]?[l[_[0]],_e.close]:[_[0],_e.open];v.$sedfs_prev_before_open_=(e,t,n,r,s,l,_,i,o)=>v.$sedfs_prev(e,t,n,r,s,l,_,i,[0]);v.$sedfs_prev_before_close_=(e,t,n,r,s,l,_,i,o)=>v.$sedfs_prev(e,t,n,r,s,l,_,i,[1]);v.$gen_sedfs_prev=function*(e,t,n,r,s,l,_,i,o){let d=Fr.lst0(Fr.$ance(r,_[0]),_[0]),c=_[0],f=o[0];for(yield[c,f];!(c===d&&f===_e.open);)[c,f]=v.$sedfs_prev(e,t,n,r,s,l,[c],i,[f]),yield[c,f]};v.$gen_sedfs_prev_before_open=function*(e,t,n,r,s,l,_,i,o){yield*v.$gen_sedfs_prev(e,t,n,r,s,l,_,i,[0])};v.$gen_sedfs_prev_before_close=function*(e,t,n,r,s,l,_,i,o){yield*v.$gen_sedfs_prev(e,t,n,r,s,l,_,i,[1])};Gr.exports=v});var Mr=b((Td,kr)=>{var ae=P(),me=qe(),j=Array.from,k={};k.$ances_=(e,t,n,r,s,l,_,i,o)=>j(ae.$ance(r,_[0]));k.$plances_=(e,t,n,r,s,l,_,i,o)=>ae.reverse_then_push_self(ae.$ance(r,_[0]),_[0]);k.$children_=(e,t,n,r,s,l,_,i,o)=>j(ae.$fch(t,n,_[0]));k.$sibs_=(e,t,n,r,s,l,_,i,o)=>j(ae.$sibff(t,n,r,_[0]));k.$psibs_=(e,t,n,r,s,l,_,i,o)=>j(ae.$psib(s,_[0]));k.$fsibs_=(e,t,n,r,s,l,_,i,o)=>j(ae.$fsib(n,_[0]));k.$sdfs_=(e,t,n,r,s,l,_,i,o)=>j(me.$gen_sdfs_next(e,t,n,r,s,l,_,i,o));k.$sdfs_leafs_=(e,t,n,r,s,l,_,i,o)=>j(me.$gen_sdfs_next_leaf(e,t,n,r,s,l,_,i,o));k.$sdfs_nonleafs_=(e,t,n,r,s,l,_,i,o)=>j(me.$gen_sdfs_next_nonleaf(e,t,n,r,s,l,_,i,o));k.$edfs_=(e,t,n,r,s,l,_,i,o)=>j(me.$gen_edfs_next(e,t,n,r,s,l,_,i,o));k.$edfs_leafs_=(e,t,n,r,s,l,_,i,o)=>j(me.$gen_edfs_next_leaf(e,t,n,r,s,l,_,i,o));k.$edfs_nonleafs_=(e,t,n,r,s,l,_,i,o)=>j(me.$gen_edfs_next_nonleaf(e,t,n,r,s,l,_,i,o));kr.exports=k});var Yr=b((Dd,Br)=>{var Pr=P(),Ur={};Ur.$get_with_spl=(e,t,n,r,s,l,_,i,o)=>{let d=_[0],c=o[0];for(let f of c)if(d=Pr.which(Pr.$fch(t,n,d),f),d===0)break;return d};Br.exports=Ur});var Wr=b((Id,jr)=>{var{forlst:hi}=te(),ve=ge(),R={},ee={cant_add_sib_to_root:new Error("cant_add_sib_to_root"),only_root_can_add_parent:new Error("only_root_can_add_parent"),can_not_connto_nonleaf:new Error("can_not_connto_nonleaf"),already_in_a_tree:new Error("already_in_a_tree"),can_not_replace_tree_with_nonroot:new Error("can_not_replace_with_nonroot"),can_not_replace_node_with_non_isolated:new Error("ERROR_DICT.can_not_replace_with_non_isolated"),in_same_ance_chain:new Error("in_same_ance_chain")};R.ERROR_DICT=ee;R.pend=(e,t,n,r,s)=>{let{fc:l,rb:_,pr:i,lb:o,lc:d}=t,c=r.$id_;if(s=s??t.node(n),s!==null)if(ve.$is_root(i,s.$id_))ve[e](l,_,i,o,d,c,s.$id_);else throw ee.already_in_a_tree;return s};R.asib=(e,t,n,r,s)=>{let{fc:l,rb:_,pr:i,lb:o,lc:d}=t,c=r.$id_;if(ve.$is_root(i,c))throw ee.cant_add_sib_to_root;if(s=s??t.node(n),s!==null)if(ve.$is_root(i,s.$id_))ve[e](l,_,i,o,d,c,s.$id_);else throw ee.already_in_a_tree;return s};R.multi_add=(e,t,n,r,s,l,_)=>{let i;return l instanceof Array?i=l:i=Array.from({length:l}).map(o=>n.node(r)),_?hi(i,o=>t(e,n,r,s,o)):i.forEach(o=>t(e,n,r,s,o)),i.filter(o=>o!==null)};R.$insert_child_at=(e,t,n,r)=>{let s=t.$children_count_-1;n<0&&(n=0),n>s&&(n=s);let l=t.$child(n);return e==="before"?l===null?t.$prepend_child(r):l.$add_lsib(r):l===null?t.$append_child(r):l.$add_rsib(r)};R.$insert_children_at=(e,t,n,r,s,l)=>{let _=r.$children_count_-1;s<0&&(s=0),s>_&&(s=_);let i=l instanceof Array?l:Array.from({length:l}).map(d=>t.node(n)),o=r.$child(s);return e==="before"?o===null?r.$prepend_children(i):o.$add_lsibs(i):o===null?r.$append_children(i):o.$add_rsibs(i)};R.$add_parent=(e,t,n)=>{if(n.$is_root()){let r=e.node(t);return r===null||r.$prepend_child(n),r}else throw ee.only_root_can_add_parent};R.$connto=(e,t)=>{if(t.$is_leaf())return t.$prepend_child(e),e;throw ee.can_not_connto_nonleaf};R.$disconn=(e,t)=>{if(!t.$is_root()){let{fc:n,rb:r,pr:s,lb:l,lc:_}=e;ve.$disconn(n,r,s,l,_,t.$id_)}return t};R.$rm_fstch=e=>{if(e.$is_leaf())return null;{let t=e.$fstch_;return t.$disconn(),t}};R.$rm_lstch=e=>{if(e.$is_leaf())return null;{let t=e.$lstch_;return t.$disconn(),t}};R.$rm_child=(e,t)=>{if(e.$is_leaf())return null;{let n=e.$child(t);return n.$disconn(),n}};R.$rm_children=e=>{if(e.$is_leaf())return[];{let t=e.$children_;return t.forEach(n=>{n.$disconn()}),t}};R.$rm_some_children=(e,t)=>{if(e.$is_leaf())return[];{let n=e.$some_children(t);return n.forEach(r=>{r.$disconn()}),n}};function Hr(e,t){if(!e.$is_root()){let n=e.$lsib_;if(n===null){let r=e.$parent_;e.$disconn(),r.$prepend_child(t)}else e.$disconn(),n.$add_rsib(t)}}R.$replace_tree=(e,t)=>{if(t.$is_root())return Hr(e,t),t;throw ee.can_not_replace_tree_with_nonroot};R.$replace_node=(e,t)=>{if(t.$is_isolated()){let n=e.$rm_children();return t.$append_children(n),Hr(e,t),t}else throw ee.can_not_replace_node_with_non_isolated};function gi(e,t){return!e.$is_inclusive_ance_of(t)&&!t.$is_inclusive_ance_of(e)}R.$swap_tree=(e,t)=>{if(!gi(e,t))throw ee.in_same_ance_chain;if(e.$is_root()){if(!t.$is_root()){let n=t.$replace_tree();n.$replace_tree(e),n.$erase()}}else if(t.$is_root()){let n=e.$replace_tree();n.$replace_tree(t),n.$erase()}else{let n=e.$replace_tree(),r=t.$replace_tree();n.$replace_tree(t),r.$replace_tree(e),n.$erase(),r.$erase()}return t};R.$swap_node=(e,t)=>{let n=e.$replace_node(),r=t.$replace_node();return n.$replace_node(t),r.$replace_node(e),n.$erase(),r.$erase(),t};R.$erase=(e,t,n)=>{let r=n.$id_,s=n.$rm_children();return n.$disconn(),e.idpool.rtrn(r),e.slots_[r]=0,e.fc[r]=0,e.rb[r]=0,e.pr[r]=0,e.lb[r]=0,e.lc[r]=0,n[t.SYM_DICT.release_forest](),s};jr.exports=R});var Zr=b((Sd,Jr)=>{var W=Ot(),bi=Tt(),xi=xr(),yi=qt(),Ei=Sr(),mi=be(),vi=Rr(),Ti=At(),Di=qr(),Ii=Cr(),wi=qe(),Si=Lr(),Ni=Mr(),Ri=Yr(),Oi={cspis:bi,cspbfs:xi,cspact:yi,cspget:Ei,ndget:mi,cspof:vi,getwnd:Ti,ndgetwi:Di,ndsgetwis:Ii,ndgen:wi,sedfs:Si,ndsget:Ni,ndgetwo:Ri},wd=ge(),{buildk_to_srchk:qi}=X();function Ai(){let e={};for(let t in W)t.slice(0,4)==="add_"&&(e[t]=W[t]);return e}var Xr=Ai(),Ci=new Set(["IS"]);function Fi(e){let t={};for(let n of e)Ci.has(n.cate)||W[n.cate].forEach(r=>{t[r]=Oi[n.lib][r]});return t}function I(e,t){let n=t[e.SYM_DICT.get_forest],r=t[e.SYM_DICT.get_ctor],{idpool:s,fc:l,rb:_,pr:i,lb:o,lc:d}=n;return[n,r,s,l,_,i,o,d]}var Gi=e=>{let t=e.split("$");return{args:t[1],rtrn:t[2]}},Li=(e,t,n,r)=>{let[s,l,_,i,o,d,c,f]=I(e,r),a=[r.$id_],p=n(_,i,o,d,c,f,a,[],[]);return W[t](s,p)},ki=(e,t,n,r,s)=>{let[l,_,i,o,d,c,f,a]=I(e,r),p=[r.$id_,s.$id_],h=n(i,o,d,c,f,a,p,[],[]);return W[t](l,h)},Mi=(e,t,n,r,s)=>{let[l,_,i,o,d,c,f,a]=I(e,r),p=[r.$id_],h=n(i,o,d,c,f,a,p,[s],[]);return W[t](l,h)},Pi=(e,t,n,r,s)=>{let[l,_,i,o,d,c,f,a]=I(e,r),p=[r.$id_],h=n(i,o,d,c,f,a,p,[],[s]);return W[t](l,h)},Ui=(e,t,n,r,s)=>{let[l,_,i,o,d,c,f,a]=I(e,r),p=[r.$id_],h=n(i,o,d,c,f,a,p,s,[]);return W[t](l,h)},y={};function Bi(e,t,n,r,s){Object.defineProperty(e.prototype,t,{get:function(){return r(e,s,n,this)}})}function Ae(e,t,n){y[e]=r=>{let s=Fi(Xr[e]);for(let l in s){let _=s[l];l[l.length-1]==="_"?Bi(r,l,_,n,t):r.prototype[l]=function(o){return n(r,t,_,this,o)}}}}function Yi(){for(let e in Xr){let{args:t,rtrn:n}=Gi(e);t==="args_id0_"?Ae(e,n,Li):t==="args_id01_"?Ae(e,n,ki):t==="args_id0_idx0_"?Ae(e,n,Mi):t==="args_id0_o0_"?Ae(e,n,Pi):t==="args_id0_idxs_"&&Ae(e,n,Ui)}}Yi();var x=Wr();function Vr(e,t,n){W[t].forEach(r=>{e.prototype[r]=function(s){let[l,_,i,o,d,c,f,a]=I(e,this);return n(r,l,_,this,s)}})}y.add_bsc_add_op=e=>{Vr(e,"BSC_PEND_OP",x.pend),Vr(e,"BSC_ASIB_OP",x.asib)};function Ke(e,t,n,r,s){e.prototype[t]=function(l){let[_,i,o,d,c,f,a,p]=I(e,this);return x.multi_add(n,r,_,i,this,l,s)}}y.add_multi_add_op=e=>{Ke(e,"$prepend_children","$prepend_child",x.pend,!0),Ke(e,"$append_children","$append_child",x.pend,!1),Ke(e,"$add_lsibs","$add_lsib",x.asib,!1),Ke(e,"$add_rsibs","$add_rsib",x.asib,!0)};y.add_$insert_child_before=e=>{e.prototype.$insert_child_before=function(t,n){let[r,s,l,_,i,o,d,c]=I(e,this);return x.$insert_child_at("before",this,t,n)}};y.add_$insert_child_after=e=>{e.prototype.$insert_child_after=function(t,n){let[r,s,l,_,i,o,d,c]=I(e,this);return x.$insert_child_at("after",this,t,n)}};y.add_$insert_children_before=e=>{e.prototype.$insert_children_before=function(t,n){let[r,s,l,_,i,o,d,c]=I(e,this);return x.$insert_children_at("before",r,s,this,t,n)}};y.add_$insert_children_after=e=>{e.prototype.$insert_children_after=function(t,n){let[r,s,l,_,i,o,d,c]=I(e,this);return x.$insert_children_at("after",r,s,this,t,n)}};y.add_$add_parent=e=>{e.prototype.$add_parent=function(){let[t,n,r,s,l,_,i,o]=I(e,this);return x.$add_parent(t,n,this)}};y.add_$connto=e=>{e.prototype.$connto=function(t){return x.$connto(this,t)}};y.add_$add_parent_and_lsib=e=>{e.prototype.$add_parent_and_lsib=function(){let[t,n,r,s,l,_,i,o]=I(e,this),d=x.$add_parent(t,n,this),c=x.asib("$add_lsib",t,n,this);return[d,c]}};y.add_$add_or_goto_parent=e=>{e.prototype.$add_or_goto_parent=function(){let[t,n,r,s,l,_,i,o]=I(e,this);return this.$parent_!==null?this.$parent_:x.$add_parent(t,n,this)}};y.add_$disconn=e=>{e.prototype.$disconn=function(){let[t,n,r,s,l,_,i,o]=I(e,this);return x.$disconn(t,this)}};y.add_$rm_fstch=e=>{e.prototype.$rm_fstch=function(){return x.$rm_fstch(this)}};y.add_$rm_lstch=e=>{e.prototype.$rm_lstch=function(){return x.$rm_lstch(this)}};y.add_$rm_child=e=>{e.prototype.$rm_child=function(t){return x.$rm_child(this,t)}};y.add_$rm_children=e=>{e.prototype.$rm_children=function(){return x.$rm_children(this)}};y.add_$rm_some_children=e=>{e.prototype.$rm_some_children=function(t){return x.$rm_some_children(this,t)}};y.add_$replace_tree=e=>{e.prototype.$replace_tree=function(t){let[n,r,s,l,_,i,o,d]=I(e,this);return t=t??n.tree(r),x.$replace_tree(this,t)}};y.add_$replace_child_tree_at=e=>{e.prototype.$replace_child_tree_at=function(t,n){let r=this.$child(t);return r===null?null:r.$replace_tree(n)}};y.add_$replace_node=e=>{e.prototype.$replace_node=function(t){let[n,r,s,l,_,i,o,d]=I(e,this);return t=t??n.node(r),x.$replace_node(this,t)}};y.add_$replace_child_node_at=e=>{e.prototype.$replace_child_node_at=function(t,n){let r=this.$child(t);return r===null?null:r.$replace_node(n)}};y.add_$swap_tree=e=>{e.prototype.$swap_tree=function(t){let[n,r,s,l,_,i,o,d]=I(e,this);return x.$swap_tree(this,t)}};y.add_$swap_node=e=>{e.prototype.$swap_node=function(t){let[n,r,s,l,_,i,o,d]=I(e,this);return x.$swap_node(this,t)}};y.add_$clone=e=>{e.prototype.$clone=function(t=e.DFLT_CLONE_FUNC){let[n,r,s,l,_,i,o,d]=I(e,this),c=this.$sdfs_next_build_action_list_,f=this.$new();t(this,f);let a=this,p=f;return c.slice(1).forEach(h=>{let M=W.is_getter_fn(h.k);p=W.is_getter_fn(h.k)?p[h.k]:p[h.k]();let pe=M?h.k:qi(h.k);a=a[pe],t(a,p)}),f}};y.add_$erase=e=>{e.prototype.$erase=function(){let[t,n,r,s,l,_,i,o]=I(e,this);return x.$erase(t,n,this)}};y.add_$erase_r=e=>{e.prototype.$erase_r=function(){let[t,n,r,s,l,_,i,o]=I(e,this),d=this.$sdfs_;return d.forEach(c=>x.$erase(t,n,c)),d}};Jr.exports=y});var Qr=b((Nd,Kr)=>{var{RELATION_ANCE:Hi}=Ot();function Qe(e,t){if(e[e.constructor.SYM_DICT.get_forest]===null||t[t.constructor.SYM_DICT.get_forest]===null)return[];if(e.$fid_!==t.$fid_)return[];{let n=e.$plances_,r=t.$plances_,s=-1,l=n.length<=r.length?n.length:r.length;for(let _=0;_<l&&n[_]===r[_];_++)s=_;return s>=0?[n.slice(0,s+1),n,r]:[]}}function ji(e,t){let n=Qe(e,t);return n.length>0?n[0]:null}function Wi(e,t){let n=Qe(e,t);return n.length>0?n[0][n[0].length-1]:null}function Xi(e,t){let n=Qe(e,t);if(n.length>0){let[r,s,l]=n;return l.length-r.length+s.length-r.length}else return 1/0}function Vi(e,t){let n=Qe(e,t);if(n.length>0){let[r,s,l]=n;return s=s.slice(r.length),s.reverse(),l=l.slice(r.length),s.concat(l)}else return[]}var Ji={$cmmn_ances:ji,$fst_cmmn_ance:Wi,$dist:Xi,$path_to:Vi};function Zi(e){for(let t of Hi)e.prototype[t]=function(n){return Ji[t](this,n)}}Kr.exports={add_ance_relation:Zi}});var n_=b((Rd,t_)=>{function zr(e,t=(n,r)=>{}){var r=e.$clone(t).$lyrs_;for(let s=r.length-1;s>-1;s--){let l=r[s];for(let _=0;_<l.length;_++){let i=l[_];Object.assign(i,{height:r.length-s,children_count:0,length:1})}}for(let s=r.length-1;s>0;s--){let l=r[s];for(let _=0;_<l.length;_++){let i=l[_],o=i.$parent_;o.children_count=o.children_count+1,o.length=o.length+i.length}}return r}function Ki(e,t=(n,r)=>0){return e.sort((n,r)=>{let s=n.length-r.length;return s=s===0?n.height-r.height:s,s=s===0?n.children_count-r.children_count:s,s=s===0?t(n,r):s,s}),e}function Qi(e,t=(n,r)=>0){let n=e.$rm_children();Ki(n,t),e.$append_children(n)}function Ft(e,t=(n,r)=>0){let n=zr(e);for(let r=0;r<n.length-1;r++){let s=n[r];for(let l=0;l<s.length;l++){let _=s[l];Qi(_,t)}}return n[0][0]}function Gt(e,t,n=(r,s)=>!0){let r=e.$gen_sdfs_next_srch_action(),s=t.$gen_sdfs_next_srch_action(),l=e,_=t;for(let i of r){let o=s.next().value;if(o===void 0)return!1;if(i.k!==o.k)return!1;if(l=l[i.k],_=_[o.k],!n(l,_))return!1}return s.next().value===void 0}function e_(e,t,n=(s,l)=>0,r=(s,l)=>!0){let s=Ft(e,n),l=Ft(t,n),_=Gt(s,l,r);return s.$erase_r(),l.$erase_r(),_}function zi(e){e.prototype.$deep_steq=function(t,n=(r,s)=>!0){return Gt(this,t,n)}}function eo(e){e.prototype.$deep_lseq=function(t,n=(s,l)=>0,r=(s,l)=>!0){return e_(this,t,n,r)}}t_.exports={creat_ele_mat:zr,dcp_and_sort_nd:Ft,strict_eq:Gt,loose_eq:e_,add_deep_steq:zi,add_deep_lseq:eo}});var l_=b((Od,s_)=>{var{FLAG_DICT:Lt}=X();function r_(e,t){if(e(t)){let n=t.$rsib_;return n!==null?n:t.$rsib_of_fst_ance_having_rsib_}else return t.$sdfs_next_}function*to(e,t){let r=t.$drmost_.$sdfs_next_;for(;t!==r;)yield t,t=r_(e,t)}function __(e,t,n){return e(t)?n===Lt.open?[t,"close"]:t.$sedfs_next_after_close_:t.$sedfs_next(n)}function*no(e,t){let n="open",[r,s]=t.$sedfs_next(Lt.close);for(;t!==r||n!==s;)yield[t,n],[t,n]=__(e,t,Lt[n])}function ro(e){e.prototype.$cond_leaf_sdfs_next=function(t){return r_(t,this)}}function _o(e){e.prototype.$gen_cond_leaf_sdfs_next=function*(t){yield*to(t,this)}}function so(e){e.prototype.$cond_leaf_sedfs_next=function(t,n){return __(t,this,n)}}function lo(e){e.prototype.$gen_cond_leaf_sedfs_next=function*(t){yield*no(t,this)}}s_.exports={add_cond_leaf_sdfs_next:ro,add_gen_cond_leaf_sdfs_next:_o,add_cond_leaf_sedfs_next:so,add_gen_cond_leaf_sedfs_next:lo}});var Ce=b((Ad,a_)=>{var{add_repr:i_,add_string_tag:io,get_abbr:oo}=te(),{FLAG_DICT:qd}=X(),ze={p:"[+]",n:"[-]",l:"[.]"},o_={t:" \u251C\u2500\u2500 ",v:" \u2502   ",l:" \u2514\u2500\u2500 ",ws:"     "},d_={t:"\u251C\u2500\u2500 ",v:"\u2502   ",l:"\u2514\u2500\u2500 ",ws:"    "};function c_(e,t,n=0){let r=[];t.$is_root()||(t.$is_lstch()?r.unshift(e.l):r.unshift(e.t));let s=t.$ances_;for(let l=0;l<s.length-1;l++)s[l].$is_lstch()?r.unshift(e.ws):r.unshift(e.v);return r=r.slice(n),r.join("")}function et(e){return e[e.constructor.SYM_DICT.get_forest]!==null?oo(e.$fid_)+":"+e.$id_:""}var co="%";function fo(e){io(e,t=>(t.$tag_??t.$id_)+" %"+et(t)+"% ")}var f_=(e,t=1)=>e.$is_leaf()||e.$depth_===t;function ao(e,t){let n=s=>f_(s,t);return Array.from(e.$gen_cond_leaf_sdfs_next(n))}var Te=e=>e.$tag_??e.$id_;function $o(e,t=1,n=Te,r=100){if(e[e.constructor.SYM_DICT.get_forest]===null)return"%erased% {}";let s=(e.$tag_??e.$id_)+" %"+et(e)+"% "+JSON.stringify(e,null,4);if(e.$is_leaf()||!e.$is_repr_enabled())return s;{let l=e.$depth_,_=ao(e,l+t),i=_.slice(0,r);for(let o=0;o<i.length;o++){let d=i[o];i[o]="    "+c_(d_,d,l)+n(d),d.$depth_===l+t&&!d.$is_leaf()&&(i[o]=i[o]+" [...] ")}return _.length>r&&i.push("... "+_.length-r+" more items"),s+` [
`+i.join(`
`)+`
]`}}function po(e,t=1,n=Te,r=100){i_(e,$o,t,n,r)}var uo=e=>e.$is_leaf()||!e.$is_disp_enabled();function ho(e){return Array.from(e.$gen_cond_leaf_sdfs_next(uo))}var go=e=>e.$is_leaf()?ze.l:e.$is_disp_enabled()?ze.n:ze.p;function bo(e,t=Te){if(e[e.constructor.SYM_DICT.get_forest]===null)return"%erased% {}";let n=(e.$tag_??e.$id_)+" %"+et(e)+"% "+JSON.stringify(e,null,4);if(e.$is_leaf())return n;{let r=e.$depth_,s=ho(e);for(let l=0;l<s.length;l++){let _=s[l];s[l]="    "+c_(o_,_,r)+go(_)+t(_)}return n+` [
`+s.join(`
`)+`
]`}}function xo(e,t=Te){e.prototype.$display=function(n=!1){let r=bo(this,t=Te);if(n)return r;console.log(r)}}function yo(e,t){let n=s=>f_(s,t);return Array.from(e.$gen_cond_leaf_sedfs_next(n))}var kt=(e,t)=>{let n=e.$tag_??e.$id_;return t==="open"?"<"+n+">":"</"+n+">"};function Eo(e,t=1,n=kt,r=100){if(e[e.constructor.SYM_DICT.get_forest]===null)return"%erased% {}";let s=(e.$tag_??e.$id_)+" %"+et(e)+"% "+JSON.stringify(e,null,4),l=[];if(e.$is_leaf())return s+` [
    `+n(e,"open")+n(e,"close")+`
]`;{let _=e.$depth_,i=yo(e,_+t),o=i.length,d=i.slice(0,r);for(let c=0;c<d.length;c++){let[f,a]=d[c],p="    ".repeat(f.$depth_-_);d[c]="    "+p+n(f,a),f.$depth_===_+t&&!f.$is_leaf()&&a==="open"&&(d[c]=d[c]+`
`+p+"        <.../>")}return o>r&&d.push("... "+o-r+" more items"),s+` [
`+d.join(`
`)+`
]`}}function mo(e,t=1,n=kt,r=100){i_(e,Eo,t,n,r)}a_.exports={NATIVE_QUOTE:co,_add_string_tag:fo,FOLDUP_SIGN_DICT:ze,REPR_PREFIX_DICT:d_,UI_PREFIX_DICT:o_,DFLT_REPR_LFN:Te,_add_repr:po,_add_disp:xo,DFLT_SEDFS_LFN:kt,_add_sedfs_repr:mo}});var E_=b((Cd,y_)=>{var{FLAG_DICT:vo}=X();function To(e){let t=e,n=e,r=e.$drmost_,s=!1,l=!1;function _(d=1){l=!1;let c=[];for(;c.length<d;)s?(n=t,s=!1):(n=n.$sdfs_next_,n===null&&(n=t)),n===r&&(s=!0),n===t&&(l=!0),c.push(n);return c}function i(){return n}function o(d=1){s=!1;let c=[];for(;c.length<d;)l?(n=r,l=!1):(n=n.$sdfs_prev_,n===null&&(n=r)),n===r&&(s=!0),n===t&&(l=!0),c.unshift(n);return c}return[_,i,o]}function $_(e){e.prototype.$more_less=function(){return To(this)}}var De=(e,t)=>{},p_=Symbol("open"),u_=Symbol("close"),h_=class{#e=0;#t=void 0;#n;get action_(){return this.#e}get val_(){return this.#t}[p_](){this.#n=0}[u_](){this.#n=1}is_opened(){return this.#n===0}is_closed(){return this.#n===1}yield(){this.#e=0}skip(){this.#e=1}disconn(){this.#e=2}add_lsib(t){this.#e=3,this.#t=t}add_rsib(t){this.#e=4,this.#t=t}add_child(t){this.#e=5,this.#t=t}replace_with(t){this.#e=6,this.#t=t}erase(){this.#e=7,this.#t=void 0}replace_tree(t){this.#e=8,this.#t=t}replace_node(t){this.#e=9,this.#t=t}reset(){this.#e=0,this.#t=void 0}},tt={add_child:"add-child-only-can-be-applied-on-leaf;for-nonleaf,using add_?sib on child",replace:"use-replace-tree or replace-node; replace_with is a old API, have NO effect"};function B(e,t){let[n,r]=e.$sedfs_next(t);return t=vo[r],[n,t]}function*Mt(e,t=De){let n=new h_,[r,s]=B(e,0);for(;r!==null;){if(s===0?n[p_]():n[u_](),t(r,n),n.action_===0)yield r,[r,s]=B(r,s);else if(n.action_===1)[r,s]=B(r,s);else if(n.action_===2)if(s===0){r.$rm_children();let l=r;[r,s]=B(r,s),l.$disconn()}else{yield r;let l=r;[r,s]=B(r,s),l.$disconn()}else if(n.action_===3){let l=r.$add_lsib(n.val_);yield r,[r,s]=B(r,s)}else if(n.action_===4)if(yield r,s===0)r.$add_rsib(n.val_),[r,s]=B(r,s);else{let l=r;[r,s]=B(r,s),l.$add_rsib(n.val_)}else if(n.action_===5)if(yield r,!r.$is_leaf())console.log(tt.add_child);else if(s===0)r.$append_child(n.val_),[r,s]=B(r,s);else{let l=r;[r,s]=B(r,s),l.$append_child(n.val_)}else if(n.action_===6)r.$replace_with?s===0?(r=r.$replace_with(n.val_),s=0,yield r):(yield r,r=r.$replace_with(n.val_),s=1):console.log(tt.replace);else if(n.action_===7)if(s===0){r.$rm_children();let l=r;[r,s]=B(r,s),l.$erase()}else{yield r;let l=r;[r,s]=B(r,s),l.$erase()}else n.action_===8?s===0?(r=r.$replace_tree(n.val_),s=0,yield r):(yield r,r=r.$replace_tree(n.val_),s=1):n.action_===9&&(s===0?(r=r.$replace_node(n.val_),s=0,yield r):(yield r,r=r.$replace_node(n.val_),s=1));n.reset()}}function g_(e,t=De){for(let n of Mt(e,t));}function b_(e){e.prototype.$gen_visit=function(t=De){return Mt(this,t)},e.prototype.$visit=function(t=De){g_(this,t)}}var x_={is_opened:"visitor.is_opened()",is_closed:"visitor.is_closed()",skip:"visitor.skip()",disconn:"visitor.disconn()",add_lsib:"visitor.add_lsib(new_node||undefined)",add_rsib:"visitor.add_rsib(new_node||undefined)",add_child:"visitor.add_child(new_node||undefined)",replace_with:"visitor.replace_with(new_node||undefined)",erase:"visitor.erase()",replace_tree:"visitor.replace_tree(new_tree||undefined)",replace_node:"visitor.replace_node(new_node||undefined)"};function Do(e){$_(e),b_(e),e.Visitor={DFLT_VISIT_FUNC:De,ACTION_DICT:x_,ALRM_DICT:tt}}y_.exports={add_more_less:$_,DFLT_VISIT_FUNC:De,ACTION_DICT:x_,ALRM_DICT:tt,gen:Mt,visit:g_,add_visit:b_,add_mlv:Do}});var T_=b((Ld,v_)=>{var se=Tt(),Fd=be(),{ZWNJ:nt,__DP:rt,__O:_t}=te(),Fe={release_forest:Symbol("release_forest"),get_forest:Symbol("get_forest"),get_ctor:Symbol("get_ctor"),set_id:Symbol("set_id")},w=class{#e;#t;#n;constructor(t,n){this.#n=this.constructor,this.#e=t,this.#t=n}get[Fe.get_forest](){return this.#e}get[Fe.get_ctor](){return this.#n}[Fe.release_forest](){this.#e=null}[Fe.set_id](t){this.#t=t}get $fid_(){return this.#e.fid}get $id_(){return this.#t}$noop(){}$new(t=w){return this.#e.node(t)}$is_empty(){let{idpool:t,fc:n,rb:r,pr:s,lb:l,lc:_}=this.#e;return se.$is_empty(t,n,r,s,l,_,[this.#t],[],[])}$is_root(){let{idpool:t,fc:n,rb:r,pr:s,lb:l,lc:_}=this.#e;return se.$is_root(t,n,r,s,l,_,[this.#t],[],[])}$is_fstch(){let{idpool:t,fc:n,rb:r,pr:s,lb:l,lc:_}=this.#e;return se.$is_fstch(t,n,r,s,l,_,[this.#t],[],[])}$is_midch(){let{idpool:t,fc:n,rb:r,pr:s,lb:l,lc:_}=this.#e;return se.$is_midch(t,n,r,s,l,_,[this.#t],[],[])}$is_lstch(){let{idpool:t,fc:n,rb:r,pr:s,lb:l,lc:_}=this.#e;return se.$is_lstch(t,n,r,s,l,_,[this.#t],[],[])}$is_leaf(){let{idpool:t,fc:n,rb:r,pr:s,lb:l,lc:_}=this.#e;return se.$is_leaf(t,n,r,s,l,_,[this.#t],[],[])}$is_lonely(){let{idpool:t,fc:n,rb:r,pr:s,lb:l,lc:_}=this.#e;return se.$is_lonely(t,n,r,s,l,_,[this.#t],[],[])}$is_isolated(){let{idpool:t,fc:n,rb:r,pr:s,lb:l,lc:_}=this.#e;return se.$is_isolated(t,n,r,s,l,_,[this.#t],[],[])}};w.SYM_DICT=Fe;w.DFLT_CLONE_FUNC=(e,t)=>{Object.assign(t,e)};var m_=Zr();for(let e in m_)e!=="ERROR_DICT"&&m_[e](w);var{add_ance_relation:Io}=Qr();Io(w);var{add_deep_steq:wo,add_deep_lseq:So}=n_();wo(w);So(w);var{add_cond_leaf_sdfs_next:No,add_gen_cond_leaf_sdfs_next:Ro,add_cond_leaf_sedfs_next:Oo,add_gen_cond_leaf_sedfs_next:qo}=l_();No(w);Ro(w);Oo(w);qo(w);var{_add_string_tag:Ao}=Ce();Ao(w);var{add_mlv:Co}=E_();Co(w);var{add_dump:Fo,load_from_dump:Gd}=Et();Fo(w);_t[rt](w,"name",{value:nt});var st=class extends w{#e=!0;$is_repr_enabled(){return this.#e}$enable_repr(){this.#e=!0}$disable_repr(){this.#e=!1}},{_add_repr:Go}=Ce();Go(st,2);_t[rt](st,"name",{value:nt});var lt=class extends w{#e=!1;$is_disp_enabled(){return this.#e}$expand(){this.#e=!0}$expand_all(){this.$sdfs_.forEach(t=>t.$expand())}$foldup(){this.#e=!1}$foldup_all(){this.$sdfs_.forEach(t=>t.$foldup())}},{_add_disp:Lo}=Ce();Lo(lt);_t[rt](lt,"name",{value:nt});function $e(e,t,n){let r=e.constructor,s=e[r.SYM_DICT.get_forest],l=Array.from({length:n}).map(_=>s.node(r));return l.forEach(_=>_.$tag_=t),l}var it=class extends w{#e="";constructor(t,n,r=""){super(t,n);this.#e=r}get $tag_(){return this.#e}set $tag_(t){this.#e=t}$prepend(t="",n=1){let r=$e(this,t,n);return this.$prepend_children(r),r}$append(t="",n=1){let r=$e(this,t,n);return this.$append_children(r),r}$insert_before(t,n="",r=1){let s=$e(this,n,r);return this.$insert_children_before(t,s),s}$insert_after(t,n="",r=1){let s=$e(this,n,r);return this.$insert_children_after(t,s),s}$arsib(t="",n=1){let r=$e(this,t,n);return this.$add_rsibs(r),r}$alsib(t="",n=1){let r=$e(this,t,n);return this.$add_lsibs(r),r}$aparent(t=""){let n=$e(this,t,1);return this.$add_parent(n[0])}},{_add_sedfs_repr:ko}=Ce();ko(it,2);_t[rt](it,"name",{value:nt});v_.exports={_Node:w,_TermNode:st,_UiNode:lt,_TagNode:it}});var Ho=b((kd,D_)=>{var Mo=yn(),{_Node:Po,_TermNode:Uo,_TagNode:Bo,_UiNode:Yo}=T_();D_.exports={Forest:Mo,_Node:Po,_TermNode:Uo,_TagNode:Bo,_UiNode:Yo}});return Ho();})();
