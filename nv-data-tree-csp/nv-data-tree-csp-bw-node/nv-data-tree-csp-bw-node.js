var nvtree=(()=>{var e,t=Object.defineProperty,_=(e,_)=>()=>_=e?e(e=0):_,r=(e,_)=>()=>(_||e((_={exports:{}}).exports,_),_.exports),R=r((e,_)=>{_.exports={and:(...e)=>e.every(e=>e),or:(...e)=>((e,..._)=>((e,_,...r)=>{let t=0;for(var n of r)if(e(n)&&(t+=1),t===_)return!0;return!1})(e=>e,e,..._))(1,...e)}}),n=_(()=>{e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"}),O={};((e,_)=>{for(var r in t(e,"__esModule",{value:!0}),_)t(e,r,{get:_[r],enumerable:!0})})(O,{customAlphabet:()=>d,customRandom:()=>i,nanoid:()=>o,random:()=>s,urlAlphabet:()=>e});var s,i,d,o,F=_(()=>{n(),s=e=>crypto.getRandomValues(new Uint8Array(e)),i=(t,n,s)=>{let i=(2<<Math.log(t.length-1)/Math.LN2)-1,d=-~(1.6*i*n/t.length);return()=>{let r="";for(;;){let e=s(d),_=d;for(;_--;)if(r+=t[e[_]&i]||"",r.length===n)return r}}},d=(e,_)=>i(e,_,s),o=(_=21)=>{let r="",t=crypto.getRandomValues(new Uint8Array(_));for(;_--;){let e=63&t[_];e<36?r+=e.toString(36):e<62?r+=(e-26).toString(36).toUpperCase():e<63?r+="_":r+="-"}return r}}),I=r((e,_)=>{var t=Object,r=JSON,l=Symbol,a=Array,f=BigInt,$=BigUint64Array,c=(BigInt64Array,parseInt),s=!0,n=(t.fromEntries,l.toStringTag),i="defineProperty",h="length",u="prototype",{}=R(),d=(Array.isArray,_.exports);function o(){try{document.createTextNode("")}catch(e){return!0}}function p(e,_,...r){o()?e[u][(e=>{if("undefined"!=typeof require)return require(e);throw new Error('Dynamic require of "'+e+'" is not supported')})("util").inspect.custom]=function(){return _(this,...r)}:e[u].repr=function(){return _(this,...r)}}var g=l("root"),v=l("empty"),b=l("unknown"),y=l("impossible"),E=l("never"),m=l("maybe"),x=l("any"),T=l("noexist"),D=l("hole");var d={__O:t,__DP:i,is_node:o,jdcp:e=>r.parse(r.stringify(e)),iflet:function(..._){var r=_[h],e=(_.slice(0,r-1),_[r-1]);for(let e=0;e<r-1;e+=2){var t=_[e],n=_[e+1];if(t)return n}return e},forlst:(_,r)=>{for(let e=_.length-1;-1<e;e--)r(_[e],e)},root:g,empty:v,unknown:b,impossible:y,never:E,maybe:m,any:x,noexist:T,hole:D,ZWNJ:"â€Œ",add_repr:p,add_string_tag:function(e,_,...r){t[i](e[u],n,{get:function(){return _(this,...r)}})}},{nanoid:N}=(F(),O);d.creat_id=()=>N(36);var I=/\-/g;_tmp=()=>d.creat_id().replace(I,""),d.creat_nodash_id=_tmp,d.creat_idary=()=>[0,0,0,0].map((e,_)=>c("0x"+_tmp().slice(8*_,8*_+8))),d.creat_bigint_id=()=>f("0x"+_tmp()),d.get_abbr=e=>e.substr(0,8);var S=e=>({minid_:e.minid_,maxid_:e.maxid_,used_:e.used_,lefted_:e.lefted_});function*w(e,_,r,t){for(var n=_[h];s;)for(let e=1;e<n;e++)_[e]!==r||(_[e]=t,yield e)}d.AidPool=function(n){let e=l(),_=l(),r=l(),t=l(),s=l(),i=l(),d=l();class o{#e;#t;#n;#r;#_;#s;constructor(e,_,r,t){_=n===a?_??a.from({length:c(e+1)}).map(e=>r):_??new n(c(e+1)),this.#t=n===$?f(e):e,this.#r=_.filter(e=>e!==r).length,this.#e=_,this.#_=r,this.#s=t,this.#n=w(c(e),this.#e,this.#_,this.#s)}get rented_(){return this.#e}[e](){this.#r=this.#r+1}[_](){this.#r=this.#r-1}get used_(){return this.#r}get minid_(){return n===$?1n:1}get maxid_(){return this.#t}get lefted_(){return c(this.#t)-this.used_}is_full(){return 0===this.lefted_}get[r](){return this.#_}get[t](){return this.#e}get[s](){return this.#s}get[i](){return this.#n}[d](){this.#n=w(c(this.#t),this.#e,this.#_,this.#s)}reset(){this.#r=0;for(let e=1;e<this.#e[h];e++)this.#e[e]=this.#_;this[d]()}}return n===$?(o[u].rent=function(){return this.used_===c(this.maxid_)?(this[d](),-this[s]):(this[e](),f(this[i].next().value))},o[u].rtrn=function(e){this[t][c(e)]!==this[r]&&(this[_](),this[t][c(e)]=this[r])}):(o[u].rent=function(){return this.used_===this.maxid_?(this[d](),-this[s]):(this[e](),this[i].next().value)},o[u].rtrn=function(e){this[t][e]!==this[r]&&(this[_](),this[t][e]=this[r])}),p(o,S),o}(a),_.exports=d}),$=r((e,_)=>{_.exports={false_e:function(_,...e){e.forEach(e=>Object.defineProperty(_,e,{enumerable:!1}))}}}),J=r((e,_)=>{var r=[["$self_",0],["$fstch_",1],["$rsib_",2],["$parent_",3],["$lsib_",4],["$lstch_",5],["$end_",255]],t=r.map(e=>e[0]),n=r.map(e=>e[1]),s=new Map(r.concat(r.map(e=>[e[1],e[0]]))),i=[["$new",256],["$prepend_child",257],["$add_rsib",258],["$add_parent",259],["$add_lsib",260],["$append_child",261],["$noop",511]],d=i.map(e=>e[0]),r=i.map(e=>e[1]),o=new Map(i.concat(i.map(e=>[e[1],e[0]])));function l(e){return s.get(e)}function a(e){return s.get(e)}function f(e){return o.get(e)}function $(e){return o.get(e)}i=class{constructor(e,_,r=-1){this.k=e,this.d=_,this.id=r}};i.DIRECTION={down:0,right:1,up:2,left:3,0:"down",1:"right",2:"up",3:"left"};_.exports={SRCH_KS:t,BUILD_KS:d,SRCH_NS:n,BUILD_NS:r,srchk_to_buildk:function(e,_=!1){return"$parent_"!==(e=s.get(e)+256)||_?o.get(e):e},buildk_to_srchk:function(e){return"$parent_"===(e=o.get(e)-256)?"$parent_":s.get(e)},srchn_to_srchk:l,srchk_to_srchn:a,buildn_to_buildk:f,buildk_to_buildn:$,actnl_to_actkl:function(e){return e.map(e=>(e<256?l:f)(e))},actkl_to_actnl:function(e){return e.map(e=>(t.includes(e)?a:$)(e))},Act:i,FLAG_DICT:{open:0,close:1,0:"open",1:"close",lyrfst:2,lyrmid:3,lyrlst:4,lyrbst:5,2:"lyrfst",3:"lyrmid",4:"lyrlst",5:"lyrbst"}}}),a=r((e,_)=>{var{jdcp:d}=I(),i=Symbol("pele");function o(e,_,r,t){let n={},s=t(_);return Object.assign(n,s),n[r]=[],n[i]=e,n}var l={$prepend_child:e=>{let _=e.ele,r=_[e.ck],t=e.ref.$fstch_,n=o(_,t,e.ck,e.dump_func);return r.push(n),e.ref=t,e.ele=n,e},$add_rsib:e=>{let _=e.ele[i],r=_[e.ck],t=e.ref.$rsib_,n=o(_,t,e.ck,e.dump_func);return r.push(n),e.ref=t,e.ele=n,e},$parent_:e=>{var _=e.ele[i],r=e.ref.$parent_;return e.ref=r,e.ele=_,e}};var f=(e,_,r)=>{for(var t in _)t!==r&&(e[t]=_[t])};_.exports={dump:function(e,_=d,r="_children"){let t=e.$sdfs_next_build_action_list_,n=([e,r="_children",_=d]=[e,r,_],{ck:r,dump_func:_,ref:e,ele:o(null,e,r,_)}),s=n.ele;var i;t=t.slice(1);for(i of t)l[i.k](n);return d(s)},DFLT_NEST_LOAD_FUNC:f,load:function(r,t,e,n=f,s="_children"){var _=r.node(t);n(_,e,s);let i=[{j:e,nd:_}],d=[];for(;0<i.length;){for(var o of i){let e=o.j[s],_=o.nd;for(var l of e){var a=r.node(t);n(a,l,s),_.$append_child(a),d.push({j:l,nd:a})}}i=d,d=[]}return _}}}),h=r((e,_)=>{var{actkl_to_actnl:t,actnl_to_actkl:o}=J(),{jdcp:n}=I();function r(e,_=n){let r=e.$sdfs_next_build_action_list_;r=r.map(e=>e.k),r=t(r);e=e.$sdfs_.map(e=>_(e));return{struct:r,data:e}}var l=(e,_)=>(Object.assign(e,_),e);var s=a();_.exports={dump:r,DFLT_LOAD_FUNC:l,load_from_dump:function(e,_,r,t=l){var{struct:e,data:n}=e,s=o(e),r=_.tree(r);t(r,n[0]);let i=r,d=1;for(let _=1;_<s.length;_++){let e=s[_];e.endsWith("_")?i=i[e]:(i=i[e](),t(i,n[d]),d+=1)}return r},add_dump:function(e){e.prototype.$dump=function(e=n){return r(this,e)},e.DFLT_LOAD_FUNC=l,e.prototype.$to_nest=function(e=n,_="_children"){return s.dump(this,e,_)},e.DFLT_NEST_LOAD_FUNC=s.DFLT_NEST_LOAD_FUNC},nest:s}}),c=r((e,_)=>{function s(_,r,t,n,s,i){let d=new Map,e=_.length;i=i??e;let o=s=s??0;for(let e=s;e<i;e++)n(t,_[e])&&(_[o]=_[e],d.set(e,o),o+=1);for(let e=o;e<i;e++)_[e]=r;return d}_.exports={defrag:function(e,_=void 0,r=void 0,t=void 0){return s(e,_,_,(e,_)=>_!==e,r,t)},defrag_with_st:function(e,_,r=void 0,t=void 0,n=void 0){return s(e,r,_,(e,_)=>!e.has(_),t,n)}}}),l=r((e,_)=>{var{AidPool:o,creat_id:n,jdcp:d}=I(),{false_e:s}=$(),i=h(),t=c(),l=["fc","pr","rb","lb","lc"],a=(e,_,r,t)=>{t=new e(_,t);return Object.assign(t,r),t};var f=class{constructor(e=1e4,_){!function(_,e,r){_.fid=r??n(),_.max_size=e,_.idpool=new o(_.max_size,void 0,0,0);let t=_.idpool.rented_;l.forEach(e=>{_[e]=t.slice(0)}),s(_,...l),Object.seal(_)}(this,e,_)}get slots_(){return this.idpool.rented_}slot(e){return this.slots_[e]}*gen_entry(){var _=this.slots_.length;for(let e=1;e<_;e++){var r=this.slot(e);0!==r&&(yield[r,e])}}get ids_(){return this.slots_.filter((e,_)=>0!==e).map(e=>e.$id_)}get nodes_(){return this.slots_.filter(e=>0!==e)}get trees_(){return this.nodes_.filter(e=>e.$is_root())}get isolates_(){return this.trees_.filter(e=>e.$is_leaf())}tree(e){var _=this.idpool.rent();if(_<0)return null;e=new e(this,_);return this.slots_[_]=e}node(e){return this.tree(e)}erase_isolated(){let e=this.gen_entry(),_=[];for(var[r,t]of e)r.$is_isolated()&&(r.$erase(),_.push(r));return _}dump(_=d){let e=this.idpool.maxid_,r=this.fid,t=this.slots_.filter(e=>0!==e),n=t.map(e=>e.$id_),s={ids:n};l.forEach(_=>{s[_]=n.map(e=>this[_][e])});var i=t.map(e=>_(e));return{fid:r,maxid:e,struct:s,data:i}}load_nd_from_dump(e,_,r=i.DFLT_LOAD_FUNC){return i.load_from_dump(_,this,e,r)}load_nd_from_nest(e,_,r=i.nest.DFLT_NEST_LOAD_FUNC,t="_children"){return i.nest.load(this,e,_,r,t)}merge(e,r=i.DFLT_LOAD_FUNC){return e.trees_.map(e=>{var _=e.$dump();return this.load_nd_from_dump(e.constructor,_,r)})}defrag(){return function(s){let r=s.slots_,i=t.defrag(r,0,1),d=new Set(Array.from(i.keys()));for(let _=1;_<=d.size;_++){let e=r[_];e[e.constructor.SYM_DICT.set_id](_)}return l.forEach(e=>{let _=s[e];for(let e=1;e<_.length;e++)d.has(e)&&(_[e]=i.get(_[e])??0);for(var[r,t]of i){var n=_[r];_[r]=0,_[t]=n}}),s}(this)}[Symbol.iterator](){return function*(){var e,_;for([e,_]of this.gen_entry())e.$is_root()&&(yield e)}()}};f.PROPS=l,f.DFLT_LOAD_FUNC=a,f.load_from_dump=(e,_,r=a)=>function(t,e,n=a){let s=new f(t.maxid,t.fid),_=t.struct.ids,i=t.data,{slots_:d}=s;_.forEach((_,r)=>{d[_]=n(e,s,i[r],_),l.forEach(e=>{s[e][_]=t.struct[e][r]})});var r=new o(t.maxid,d,0,0);return s.idpool=r,s}(e,_,r),_.exports=f}),v=r((e,r)=>{var t=(e,_)=>0===e[_],a={};[0,1,2,3,4].forEach(e=>{a["_"+e]=t});var _=(e,_,r)=>t(e,r)&&t(_,r);function d(e,_,r,t,n,s,i){if(a._2(r,s)){var d=e[0][n];return a._7(e[0],r,n,s),d?i?a._8(_,t,s,d):a._8(_,t,d,s):e[1][n]=s,s}return 0}function o(e,_,r,t,n,s,i,d,o){var l=n[i];if(a._2(n,i)||!a._2(n,d))return 0;n[d]=l,e(r,i)&&(_[l]=d);r=r[i];return o?(a._8(t,s,i,d),a._8(t,s,d,r)):(a._8(t,s,d,i),a._8(t,s,r,d)),d}[5,6].forEach(e=>{a["_"+e]=_}),a._7=(e,_,r,t)=>{_[e[r]=t]=r},a._8=(e,_,r,t)=>{_[e[t]=r]=t},a._9=(e,_,r,t,n,s)=>{var i=r[s],d=_[s],o=t[s];return a._1(t,s)&&(e[i]=d),a._3(_,s)&&(n[i]=o),r[s]=0,a._8(_,t,d,o),_[s]=0,t[s]=0,s},a._11=(e,_,r,t,n,s,i)=>d([e,n],_,r,t,s,i,0),a._12=(e,_,r,t,n,s,i)=>d([n,e],_,r,t,s,i,1),a._14=(e,_,r,t,n,s,i)=>o(a._3,n,_,_,r,t,s,i,0),a._15=(e,_,r,t,n,s,i)=>o(a._1,e,t,_,r,t,s,i,1),["$is_empty","$is_fstch","$is_root","$is_lstch","$is_leaf","$is_lonely","$is_isolated","link_pc","link_rl","$disconn","_pend","$prepend_child","$append_child","_asib","$add_rsib","$add_lsib"].forEach((e,_)=>{r.exports[e]=a["_"+_]})}),b=r((e,_)=>{var l=v();_.exports={$is_empty:(e,_,r,t,n,s,i,d,o)=>l.$is_empty(e.rented_,i[0]),$is_root:(e,_,r,t,n,s,i,d,o)=>l.$is_root(t,i[0]),$is_fstch:(e,_,r,t,n,s,i,d,o)=>l.$is_fstch(n,i[0]),$is_midch:(e,_,r,t,n,s,i,d,o)=>!l.$is_fstch(n,i[0])&&!l.$is_lstch(r,i[0]),$is_lstch:(e,_,r,t,n,s,i,d,o)=>l.$is_lstch(r,i[0]),$is_leaf:(e,_,r,t,n,s,i,d,o)=>l.$is_leaf(_,i[0]),$is_lonely:(e,_,r,t,n,s,i,d,o)=>l.$is_lonely(r,n,i[0]),$is_isolated:(e,_,r,t,n,s,i,d,o)=>l.$is_isolated(_,t,i[0])}}),S=r((e,_)=>{var n=Array.from;function*r(e,_){let r=e[_];for(;0!==r;)yield r,r=e[r]}function*s(e,_,r){let t=e[r];for(;0!==t;)yield t,t=_[t]}var i=(e,_,r,t)=>s(e,_,r[t]);function*t(e,_){yield _,yield*r(e,_)}function*d(e,_,r){for(var t of r)yield*s(e,_,t)}_.exports={lst0:function(e,_){let r=_;for(r of e);return r},which:function(e,_){let r=0;for(var t of e){if(r===_)return t;r+=1}return 0},some:function(e,_){let r=[],t=0;for(var n of e)_.includes(t)&&r.push(n),t+=1;return r},of:function(e,_){for(var r of e)if(r===_)return!0;return!1},count:function(e){let _=0;for(var r of e)_+=1;return _},seq:function(e,_){let r=-1,t=!1;for(var n of e)if(r+=1,n===_){t=!0;break}return t?r:-1},dist_after:function(_,e,r){if(e===r)return 0;{let e=1;for(var t of _){if(t===r)return e;e+=1}return 1/0}},dist_dual:function(r,t,n){if(t===n)return 0;{let e=0,_=1/0;for(var s of r){if(s===t){if(0!==e)return-_;_=0,e=1}else if(s===n){if(0!==e)return _;_=0,e=1}_+=1}return 1/0}},reverse_then_push_self:function(e,_){let r=n(e);return r.reverse(),r.push(_),r},$ance:(e,_)=>r(e,_),$drmost:(e,_)=>t(e,_),$dlmost:(e,_)=>t(e,_),$fch:(e,_,r)=>s(e,_,r),$lch:(e,_,r)=>s(e,_,r),$psib:(e,_)=>r(e,_),$fsib:(e,_)=>r(e,_),$sibff:(e,_,r,t)=>r[t]?i(e,_,r,t):[t],$sibfl:(e,_,r,t)=>r[t]?i(e,_,r,t):[t],$nlyr:d,$mat:function*(e,_,r){let t=r?[r]:[];for(;t.length;)yield n(t),t=n(d(e,_,t))}}}),y=r((e,_)=>{var f=v(),l=S(),$={};function a(e,_,r){r=_[r[0]];return 0!==r?e[r]:0}function c(e,_,r){_=_[r[0]],_=0!==_?e[_]:0;return _!==r[0]?_:0}function h(e,_,r){let t=l.$ance(_,r[0]),n=0;for(var s of t)if(0!==e[s]){n=e[s];break}return n}function u(e,_,r){r=_[r[0]];return 0!==r?e[r]:0}function p(e,_,r,t){if(0!==_[t[0]])return 0;t=u(_,r,t);return 0!==t?e[t]:0}$.$self_=(e,_,r,t,n,s,i,d,o)=>i[0],$.$root_=(e,_,r,t,n,s,i,d,o)=>{t=l.$ance(t,i[0]);return l.lst0(t,i[0])},$.$parent_=(e,_,r,t,n,s,i,d,o)=>t[i[0]],$.$fstch_=(e,_,r,t,n,s,i,d,o)=>_[i[0]],$.$lstch_=(e,_,r,t,n,s,i,d,o)=>s[i[0]],$.$fstsib_=(e,_,r,t,n,s,i,d,o)=>a(_,t,i),$.$lstsib_=(e,_,r,t,n,s,i,d,o)=>a(s,t,i),$.$lsib_=(e,_,r,t,n,s,i,d,o)=>n[i[0]],$.$rsib_=(e,_,r,t,n,s,i,d,o)=>r[i[0]],$.$fstpsib_=(e,_,r,t,n,s,i,d,o)=>c(_,t,i),$.$lstfsib_=(e,_,r,t,n,s,i,d,o)=>c(s,t,i),$.$dlmost_=(e,_,r,t,n,s,i,d,o)=>{_=l.$dlmost(_,i[0]);return l.lst0(_,i[0])},$.$drmost_=(e,_,r,t,n,s,i,d,o)=>{s=l.$drmost(s,i[0]);return l.lst0(s,i[0])},$.$rsib_of_fst_ance_having_rsib_=(e,_,r,t,n,s,i,d,o)=>h(r,t,i),$.$lsib_of_fst_ance_having_lsib_=(e,_,r,t,n,s,i,d,o)=>h(n,t,i),$.$runcle_=(e,_,r,t,n,s,i,d,o)=>u(r,t,i),$.$luncle_=(e,_,r,t,n,s,i,d,o)=>u(n,t,i),$.$rcin_=(e,_,r,t,n,s,i,d,o)=>p(_,r,t,i),$.$lcin_=(e,_,r,t,n,s,i,d,o)=>p(s,n,t,i),$.$sdfs_next_=(e,_,r,t,n,s,i,d,o)=>{_=_[i[0]];if(0!==_)return _;_=r[i[0]];return 0!==_?_:h(r,t,i)},$.$sdfs_prev_=(e,_,r,t,n,s,i,d,o)=>{var l=t[i[0]];if(0===l)return 0;var a=n[i[0]];return f.$is_leaf(_,i[0])?0!==a?a:l:0!==a?f.$is_leaf(_,a)?a:$.$drmost_(e,_,r,t,n,s,[a],d,o):l},$.$edfs_next_=(e,_,r,t,n,s,i,d,o)=>{var l=r[i[0]];return 0===l?t[i[0]]:$.$dlmost_(e,_,r,t,n,s,[l],d,o)},$.$edfs_prev_=(e,_,r,t,n,s,i,d,o)=>{if(f.$is_leaf(_,i[0])){_=n[i[0]];return 0===_?h(n,t,i):_}return s[i[0]]},_.exports=$}),E=r((e,_)=>{var{FLAG_DICT:n}=J(),s=["lib","cate","args","rtrn","getter"];function r(e){let _=[];return e.forEach(r=>{let t={};s.forEach((e,_)=>{t[e]=r[_]}),t.getter=t.cate.includes("GETTER"),_.push(t)}),_}function*t(e,_){for(var r of _)yield u(e,r)}function*i(e,_){for(var r of _)yield p(e,r)}function*d(e,_){yield*_}function*o(e,_){for(var[r,t]of _)yield[u(e,r),n[t]]}var l=(e,_,r,t)=>[[e.$id_],[],[]],a=(e,_,r,t)=>[[e.$id_,_.$id_],[],[]],f=(e,_,r,t)=>[[e.$id_],r,[]],$=(e,_,r,t)=>[[e.$id_],[],t],c=(e,_,r,t)=>[[e.$id_],[],[o0]],h=(e,_)=>_,u=(e,_)=>0===_?null:e.slot(_),p=(_,e)=>e.map(e=>u(_,e)),g=(e,_)=>[u(e,_[0]),n[_[1]]],v=(_,e)=>e.map(e=>p(_,e)),b=(_,e)=>e.map(e=>g(_,e)),y=r([["cspis","IS"],["cspbfs","LYR_IS"],["cspbfs","BFS_GETTER"],["cspget","GETTER"]]);y.forEach(e=>{e.args=l,e.rtrn=h});var E=r([["cspact","SDFS_ACTION"]]);E.forEach(e=>{e.args=c,e.rtrn=h});var m=r([["ndget","ND_GETTER"],["cspbfs","LYR_ND_GETTER"]]);m.forEach(e=>{e.args=l,e.rtrn=u});var x=r([["cspof","OF"],["cspbfs","REL_LYR_IS"],["getwnd","GET_WITH_ND"],["cspbfs","BFS_GET_WITH_ND"]]);x.forEach(e=>{e.args=a,e.rtrn=h});var T=r([["ndgetwi","GET_ND_WITH_INDEX"]]);T.forEach(e=>{e.args=f,e.rtrn=u});var D=r([["ndsgetwis","GET_NDS_WITH_INDEXES"]]);D.forEach(e=>{e.args=f,e.rtrn=p});var N=r([["ndgen","GEN_ND"],["cspbfs","GEN_LYR_ND"]]);N.forEach(e=>{e.args=l,e.rtrn=t});var I=r([["cspbfs","GEN_NDS"]]);I.forEach(e=>{e.args=l,e.rtrn=i});var S=r([["cspbfs","NDMAT_GETTER"]]);S.forEach(e=>{e.args=l,e.rtrn=v});var w=r([["cspbfs","REL_LYR_ND_GETTER"]]);w.forEach(e=>{e.args=a,e.rtrn=u});var R=r([["cspbfs","BFS_ND_GETTER"],["sedfs","SEDFS_AFTER_ND_GETTER"],["sedfs","SEDFS_BEFORE_ND_GETTER"]]);R.forEach(e=>{e.args=l,e.rtrn=g});var O=r([["cspbfs","REL_BFS_ND_GETTER"]]);O.forEach(e=>{e.args=a,e.rtrn=g});var F=r([["ndsget","NDS_GETTER"],["cspbfs","BFS_NDS_GETTER"]]);F.forEach(e=>{e.args=l,e.rtrn=p});var C=r([["cspbfs","GET_NDMAT_WITH_INDEXES"]]);C.forEach(e=>{e.args=f,e.rtrn=v});var A=r([["cspbfs","GET_NDS_WITH_INDEX"]]);A.forEach(e=>{e.args=f,e.rtrn=p});var G=r([["cspbfs","GET_NDS_WITH_ND"]]);G.forEach(e=>{e.args=a,e.rtrn=p});var L=r([["cspbfs","GEN_LYR_ND_WITH_ND"]]);L.forEach(e=>{e.args=a,e.rtrn=t});var k=r([["cspact","GEN"]]);k.forEach(e=>{e.args=l,e.rtrn=d});var P=r([["ndgetwo","GET_ND_WITH_PL"]]);P.forEach(e=>{e.args=$,e.rtrn=u});var M=r([["sedfs","SEDFS_ND_GETTER"]]);M.forEach(e=>{e.args=$,e.rtrn=g});var U=r([["cspbfs","BFS_NDFLAGS_GETTER"],["sedfs","SEDFS_NDS_GETTER"]]);U.forEach(e=>{e.args=l,e.rtrn=b});var B=r([["cspbfs","BFS_GEN_ND_AND_FLAG"],["sedfs","SEDFS_GEN_NEXT_AFTER_ND"],["sedfs","SEDFS_GEN_PREV_BEFORE_ND"]]);B.forEach(e=>{e.args=l,e.rtrn=o});var H=r([["sedfs","SEDFS_GEN_ND_AND_FLAG"]]);H.forEach(e=>{e.args=$,e.rtrn=o});var W=["$prepend_child","$append_child"],Y=["$add_rsib","$add_lsib"],q=[...W,...Y],j=["$prepend_children","$append_children"],X=["$add_rsibs","$add_lsibs"],V=[...j,...X];_.exports={is_getter_fn:e=>e.endsWith("_"),args_id0:l,args_id01:a,args_id0_idxs:f,args_id0_o0:c,args_id0_os:$,rtrn_orig:h,rtrn_nd:u,rtrn_nds:p,rtrn_ndg:t,rtrn_ndsg:i,rtrn_ndmat:v,rtrn_nd_and_flag:g,rtrn_og:d,rtrn_ndflags:b,rtrn_ndflagg:o,IS:["$is_empty","$is_root","$is_fstch","$is_midch","$is_lstch","$is_leaf","$is_lonely","$is_isolated"],LYR_IS:["$is_lyr_fst","$is_lyr_bst","$is_lyr_lst"],BFS_GETTER:["$bpl_","$breadth_","$pbreadth_","$bfs_index_","$bfs_leaf_index_","$bfs_nonleaf_index_"],GETTER:["$depth_","$children_count_","$sibseq_","$sibs_count_","$psibs_count_","$fsibs_count_","$spl_","$length_","$width_","$nonleaf_length_","$offset_","$sdfs_next_srch_action_list_","$sdfs_next_build_action_list_","$sdfs_prev_srch_action_list_","$sdfs_prev_build_action_list_","$height_","$sdfs_index_","$sdfs_leaf_index_","$sdfs_nonleaf_index_","$edfs_index_","$edfs_leaf_index_","$edfs_nonleaf_index_"],add_$args_id0_$rtrn_orig:y,SDFS_ACTION:["$sdfs_next_srch_action","$sdfs_next_build_action","$sdfs_prev_srch_action","$sdfs_prev_build_action"],add_$args_id0_o0_$rtrn_orig:E,ND_GETTER:["$self_","$root_","$parent_","$fstch_","$lstch_","$fstsib_","$lstsib_","$lsib_","$fstpsib_","$rsib_","$lstfsib_","$dlmost_","$drmost_","$lsib_of_fst_ance_having_lsib_","$rsib_of_fst_ance_having_rsib_","$luncle_","$runcle_","$lcin_","$rcin_","$sdfs_next_","$sdfs_prev_","$edfs_next_","$edfs_prev_"],LYR_ND_GETTER:["$lyr_next_","$lyr_prev_"],BFS_ND_GETTER:["$bfs_next_","$bfs_prev_"],add_$args_id0_$rtrn_nd:m,OF:["$is_root_of","$is_parent_of","$is_ance_of","$is_inclusive_ance_of","$is_child_of","$is_fstch_of","$is_lstch_of","$is_des_of","$is_inclusive_des_of","$is_fsib_of","$is_rsib_of","$is_psib_of","$is_lsib_of","$is_sib_of","$is_inclusive_sib_of"],REL_LYR_IS:["$is_des_lyr_fst","$is_des_lyr_bst","$is_des_lyr_lst"],GET_WITH_ND:["$ance_dist","$sib_dist","$sdfs_des_index","$sdfs_des_leaf_index","$sdfs_des_nonleaf_index","$edfs_des_index","$edfs_des_leaf_index","$edfs_des_nonleaf_index","$des_spl","$des_offset"],BFS_GET_WITH_ND:["$des_breadth","$des_pbreadth","$des_bpl","$bfs_des_index","$bfs_des_leaf_index","$bfs_des_nonleaf_index"],add_$args_id01_$rtrn_orig:x,GET_ND_WITH_INDEX:["$ance","$plance","$child","$sib","$psib","$fsib"],add_$args_id0_idx0_$rtrn_nd:T,GET_NDS_WITH_INDEXES:["$some_ances","$some_plances","$some_children","$some_sibs","$some_psibs","$some_fsibs"],add_$args_id0_idxs_$rtrn_nds:D,GEN_ND:["$gen_ance","$gen_child_from_fst","$gen_child_from_lst","$gen_sib_from_fst","$gen_sib_from_lst","$gen_psib","$gen_fsib","$gen_lmost","$gen_rmost","$gen_sdfs_next","$gen_sdfs_next_leaf","$gen_sdfs_next_nonleaf","$gen_sdfs_prev","$gen_sdfs_prev_leaf","$gen_sdfs_prev_nonleaf","$gen_edfs_next","$gen_edfs_next_leaf","$gen_edfs_next_nonleaf","$gen_edfs_prev","$gen_edfs_prev_leaf","$gen_edfs_prev_nonleaf"],GEN_LYR_ND:["$gen_lyr_next","$gen_lyr_prev"],add_$args_id0_$rtrn_ndg:N,GEN_NDS:["$gen_des_lyr","$gen_lyr"],add_$args_id0_$rtrn_ndsg:I,NDMAT_GETTER:["$des_lyrs_","$lyrs_"],add_$args_id0_$rtrn_ndmat:S,REL_LYR_ND_GETTER:["$des_lyr_next","$des_lyr_prev"],add_$args_id01_$rtrn_nd:w,SEDFS_AFTER_ND_GETTER:["$sedfs_next_after_open_","$sedfs_next_after_close_"],SEDFS_BEFORE_ND_GETTER:["$sedfs_prev_before_open_","$sedfs_prev_before_close_"],add_$args_id0_$rtrn_nd_and_flag:R,REL_BFS_ND_GETTER:["$bfs_des_next","$bfs_des_prev"],add_$args_id01_$rtrn_nd_and_flag:O,NDS_GETTER:["$ances_","$plances_","$children_","$sibs_","$psibs_","$fsibs_","$sdfs_","$sdfs_leafs_","$sdfs_nonleafs_","$edfs_"],BFS_NDS_GETTER:["$lst_des_lyr_","$lst_lyr_","$own_lyr_","$plyr_"],add_$args_id0_$rtrn_nds:F,GET_NDMAT_WITH_INDEXES:["$some_des_lyrs","$some_lyrs"],add_$args_id0_idxs_$rtrn_ndmat:C,GET_NDS_WITH_INDEX:["$des_lyr","$lyr"],add_$args_id0_idx0_$rtrn_nds:A,GET_NDS_WITH_ND:["$des_own_lyr","$des_plyr"],add_$args_id01_$rtrn_nds:G,GEN_LYR_ND_WITH_ND:["$gen_des_lyr_next","$gen_des_lyr_prev"],add_$args_id01_$rtrn_ndg:L,GEN:["$gen_sdfs_next_srch_action","$gen_sdfs_next_build_action","$gen_sdfs_prev_srch_action","$gen_sdfs_prev_build_action"],add_$args_id0_$rtrn_og:k,GET_ND_WITH_PL:["$get_with_spl"],add_$args_id0_o0_$rtrn_nd:P,SEDFS_ND_GETTER:["$sedfs_next","$sedfs_prev"],add_$args_id0_o0_$rtrn_nd_and_flag:M,BFS_NDFLAGS_GETTER:["$bfs_","$des_bfs_"],SEDFS_NDS_GETTER:["$sedfs_"],add_$args_id0_$rtrn_ndflags:U,BFS_GEN_ND_AND_FLAG:["$gen_bfs","$gen_des_bfs"],SEDFS_GEN_NEXT_AFTER_ND:["$gen_sedfs_next_after_open","$gen_sedfs_next_after_close"],SEDFS_GEN_PREV_BEFORE_ND:["$gen_sedfs_prev_before_open","$gen_sedfs_prev_before_close"],add_$args_id0_$rtrn_ndflagg:B,SEDFS_GEN_ND_AND_FLAG:["$gen_sedfs_next","$gen_sedfs_prev"],add_$args_id0_o0_$rtrn_ndflagg:H,BSC_PEND_OP:W,BSC_ASIB_OP:Y,BSC_ADD_OP:q,MULTI_PEND_OP:j,MULTI_ASIB_OP:X,MULTI_ADD_OP:V,INSERT_OP:["$insert_child_before","$insert_child_after","$insert_children_before","$insert_children_after"],UPSTREAM_OP:["$connto","$add_parent","$add_parent_and_lsib","$add_or_goto_parent"],DISCONN_OP:["$disconn","$rm_fstch","$rm_lstch","$rm_children","$rm_child","$rm_some_children"],OP:["$noop","$erase","$erase_r","$replace_tree","$replace_child_tree_at","$replace_node","$replace_child_node_at","$swap_tree","$swap_node","$clone"],COND_LEAF:["$cond_leaf_sdfs_next","$gen_cond_leaf_sdfs_next","$cond_leaf_sedfs_next","$gen_cond_leaf_sedfs_next"],REPR:["$is_repr_enabled","$enable_repr","$disable_repr"],UI:["$is_disp_enabled","$expand","$foldup","$expand_all","$foldup_all"],CMP:["$deep_lseq","$deep_steq"],RELATION_ANCE:["$cmmn_ances","$fst_cmmn_ance","$dist","$path_to"],CHDES_OP_WITH_ZERO:["$rm_fstch","$rm_lstch","$rm_children","$erase_r"],CHDES_OP_WITH_ONE:["$append_child","$prepend_child","$append_children","$prepend_children","$rm_child","$rm_some_children"],CHDES_OP_WITH_SIBSEQ:["$insert_child_at","$insert_children_at","$replace_child_at"],VISIT:["$more_less","$gen_visit","$visit"],DUMP:["$dump","$to_nest"],FOREST:["ids_","slots_","slot","gen_entry","nodes_","trees_","isolates_","tree","node","erase_isolated","dump","load_nd_from_dump","load_nd_from_nest","merge","defrag"],UTIL:["$extract_vertexes"],RM_METHOD_ARY_OF_MUSTLEAF:["$append_child","$append_children","$prepend_child","$prepend_children","$insert_child_after","$insert_child_before","$insert_children_after","$insert_children_before"]}}),m=r((e,_)=>{var v=S(),{FLAG_DICT:p}=J(),{iflet:f}=I(),g=Array.from,a={$gen_des_lyr:function*(e,_,r,t,n,s,i,d,o){let l=[i[0]];for(;0<l.length;)yield l,l=g(v.$nlyr(_,r,l))}},u=a.$gen_des_lyr;a.$gen_lyr=function*(e,_,r,t,n,s,i,d,o){i=v.lst0(v.$ance(t,i[0]),i[0]);yield*u(e,_,r,t,n,s,[i],d,o)};var l=a.$gen_lyr;a.$des_lyrs_=(e,_,r,t,n,s,i,d,o)=>g(u(e,_,r,t,n,s,i,d,o)),a.$lyrs_=(e,_,r,t,n,s,i,d,o)=>g(l(e,_,r,t,n,s,i,d,o)),a.$lst_des_lyr_=(e,_,r,t,n,s,i,d,o)=>v.lst0(u(e,_,r,t,n,s,i,d,o),i[0]),a.$lst_lyr_=(e,_,r,t,n,s,i,d,o)=>{i=v.lst0(v.$ance(t,i[0]),i[0]);return v.lst0(l(e,_,r,t,n,s,[i],d,o),i)},a.$own_lyr_=(e,_,r,t,n,s,i,d,o)=>{d=l(e,_,r,t,n,s,i,d,o),o=v.lst0(v.$ance(t,i[0]),i[0]),o=v.dist_after(v.$ance(t,i[0]),i[0],o);return v.which(d,o)};var $=a.$own_lyr_;a.$plyr_=(e,_,r,t,n,s,i,d,o)=>{i=t[i[0]];return 0===i?[]:$(e,_,r,t,n,s,[i],d,o)},a.$bfs_des_next=(e,_,r,t,n,s,i,d,o)=>{var l=i[1],a=v.dist_after(v.$ance(t,i[0]),i[0],l);if(a===1/0)return[0,void 0];let f=[l],$=0;for(;0<f.length&&$!==a;)f=g(v.$nlyr(_,r,f)),$+=1;let c;for(c=0;c<f.length&&f[c]!==i[0];c++);let h;return c===f.length-1?(f=g(v.$nlyr(_,r,f)),0===f.length?[0,void 0]:(h=1===f.length?p.lyrbst:p.lyrfst,[f[0],h])):c===f.length-2?[f[f.length-1],p.lyrlst]:[f[c+1],p.lyrmid]};var c=(e,_,r,t,n,s,i,d,o,l)=>e(_,r,t,n,s,i,[d[0],v.lst0(v.$ance(n,d[0]),d[0])],o,l);a.$bfs_next_=(e,_,r,t,n,s,i,d,o)=>c(a.$bfs_des_next,e,_,r,t,n,s,i,d,o),a.$bfs_des_prev=(e,_,r,t,n,s,i,d,o)=>{var l=i[1];if(l===i[0])return[0,p.lyrbst];var a=v.dist_after(v.$ance(t,i[0]),i[0],l);if(a===1/0)return[0,void 0];let f=[l],$=[],c=0;for(;0<f.length&&c!==a;)$=f,f=g(v.$nlyr(_,r,f)),c+=1;let h;for(h=0;h<f.length&&f[h]!==i[0];h++);let u;return 0===h?(f=$,0===f.length||(u=1===f.length?p.lyrbst:p.lyrlst),[f[f.length-1],u]):1===h?[f[0],p.lyrfst]:[f[h-1],p.lyrmid]},a.$bfs_prev_=(e,_,r,t,n,s,i,d,o)=>c(a.$bfs_des_prev,e,_,r,t,n,s,i,d,o),a.$gen_des_bfs=function*(e,_,r,t,n,s,i,d,o){let l=[i[0]];for(yield[i[0],p.lyrbst];0<l.length;)if(l=g(v.$nlyr(_,r,l)),0!==l.length)if(1===l.length)yield[l[0],p.lyrbst];else{yield[l[0],p.lyrfst];for(let e=1;e<l.length-1;e++)yield[l[e],p.lyrmid];yield[l[l.length-1],p.lyrlst]}};var h=a.$gen_des_bfs;a.$gen_bfs=(e,_,r,t,n,s,i,d,o)=>h(e,_,r,t,n,s,[v.lst0(v.$ance(t,i[0]),i[0])],d,o);var b=a.$gen_bfs;a.$bfs_=(e,_,r,t,n,s,i,d,o)=>g(b(e,_,r,t,n,s,i,d,o)),a.$des_bfs_=(e,_,r,t,n,s,i,d,o)=>g(h(e,_,r,t,n,s,i,d,o)),a.$some_des_lyrs=(e,_,r,t,n,s,i,d,o)=>v.some(u(e,_,r,t,n,s,i,d,o),d),a.$some_lyrs=(e,_,r,t,n,s,i,d,o)=>v.some(l(e,_,r,t,n,s,i,d,o),d),a.$des_lyr=(e,_,r,t,n,s,i,d,o)=>v.which(u(e,_,r,t,n,s,i,d,o),d[0]),a.$lyr=(e,_,r,t,n,s,i,d,o)=>v.which(l(e,_,r,t,n,s,i,d,o),d[0]),a.$des_own_lyr=(e,_,r,t,n,s,i,d,o)=>{var l=i[1],i=v.dist_after(v.$ance(t,i[0]),i[0],l);if(i===1/0)return[];o=u(e,_,r,t,n,s,[l],d,o);return v.which(o,i)};var y=a.$des_own_lyr;a.$des_plyr=(e,_,r,t,n,s,i,d,o)=>{var l=t[i[0]];return 0===l?[]:y(e,_,r,t,n,s,[l,i[1]],d,o)},a.$breadth_=(e,_,r,t,n,s,i,d,o)=>$(e,_,r,t,n,s,i,d,o).indexOf(i[0]),a.$pbreadth_=(e,_,r,t,n,s,i,d,o)=>a.$plyr_(e,_,r,t,n,s,i,d,o).indexOf(t[i[0]]),a.$des_breadth=(e,_,r,t,n,s,i,d,o)=>y(e,_,r,t,n,s,i,d,o).indexOf(i[0]),a.$des_pbreadth=(e,_,r,t,n,s,i,d,o)=>a.$des_plyr(e,_,r,t,n,s,i,d,o).indexOf(t[i[0]]);var E=(e,_,r,t,n,s,i,d,o,l)=>e(_,r,t,n,s,i,d,o,l)[0]===d[0],m=(e,_,r,t,n,s,i,d,o,l)=>{l=e(_,r,t,n,s,i,d,o,l);return l[l.length-1]===d[0]},x=(e,_,r,t,n,s,i,d,o,l,a)=>e(r,t,n,s,i,d,o,l,a)&&_(r,t,n,s,i,d,o,l,a);a.$is_lyr_fst=(e,_,r,t,n,s,i,d,o)=>E($,e,_,r,t,n,s,i,d,o),a.$is_lyr_lst=(e,_,r,t,n,s,i,d,o)=>m($,e,_,r,t,n,s,i,d,o),a.$is_lyr_bst=(e,_,r,t,n,s,i,d,o)=>x(a.$is_lyr_fst,a.$is_lyr_lst,e,_,r,t,n,s,i,d,o),a.$is_des_lyr_fst=(e,_,r,t,n,s,i,d,o)=>E(y,e,_,r,t,n,s,i,d,o),a.$is_des_lyr_lst=(e,_,r,t,n,s,i,d,o)=>m(y,e,_,r,t,n,s,i,d,o),a.$is_des_lyr_bst=(e,_,r,t,n,s,i,d,o)=>x(a.$is_des_lyr_fst,a.$is_des_lyr_lst,e,_,r,t,n,s,i,d,o);function*T(e,_,r,t,n,s,i,d,o,l){let a=e(_,r,t,n,s,i,d,o,l),f=a.indexOf(d[0]);if(!(f<0)&&f!==a.length-1)for(var $ of a.slice(f))yield $}a.$gen_lyr_next=(e,_,r,t,n,s,i,d,o)=>T($,e,_,r,t,n,s,i,d,o),a.$gen_des_lyr_next=(e,_,r,t,n,s,i,d,o)=>T(y,e,_,r,t,n,s,i,d,o);function*D(e,_,r,t,n,s,i,d,o,l){let a=e(_,r,t,n,s,i,d,o,l),f=a.indexOf(d[0]);if(0<f){a.slice(f);for(let e=f-1;-1<e;e--)yield a[e]}}function N(e,_,r,t,n,s,i,d,o,l,a,f,$){if(!t(a[0]))return-1;if(a[1]===a[0])return 0;var c=e?[a[1],a[0]]:a,h=_(n,s,i,d,o,l,c,f,$),h=_(n,s,i,d,o,l,c,f,$);let u=-1;if(1!==e||v.of(v.$ance(d,a[0]),a[1]))for(var[p,g]of h){if(r(p,a[0])){u+=1;break}t(p)&&(u+=1)}return u}a.$gen_lyr_prev=(e,_,r,t,n,s,i,d,o)=>D($,e,_,r,t,n,s,i,d,o),a.$gen_des_lyr_prev=(e,_,r,t,n,s,i,d,o)=>D(y,e,_,r,t,n,s,i,d,o),a.$lyr_next_=(e,_,r,t,n,s,i,d,o)=>{let l=$(e,_,r,t,n,s,i,d,o),a=l.indexOf(i[0]);return f(a<0,0,a===l.length-1,0,l[a+1])},a.$lyr_prev_=(e,_,r,t,n,s,i,d,o)=>{let l=$(e,_,r,t,n,s,i,d,o),a=l.indexOf(i[0]);return f(a<0,0,0===a,0,l[a-1])},a.$des_lyr_next=(e,_,r,t,n,s,i,d,o)=>{let l=y(e,_,r,t,n,s,i,d,o),a=l.indexOf(i[0]);return f(a<0,0,a===l.length-1,0,l[a+1])},a.$des_lyr_prev=(e,_,r,t,n,s,i,d,o)=>{let l=y(e,_,r,t,n,s,i,d,o),a=l.indexOf(i[0]);return f(a<0,0,0===a,0,l[a-1])},a.$bfs_index_=(e,_,r,t,n,s,i,d,o)=>N(0,b,(e,_)=>e===_,e=>!0,e,_,r,t,n,s,i,d,o),a.$bfs_leaf_index_=(e,r,_,t,n,s,i,d,o)=>N(0,b,(e,_)=>e===_&&0===r[e],e=>0===r[e],e,r,_,t,n,s,i,d,o),a.$bfs_nonleaf_index_=(e,r,_,t,n,s,i,d,o)=>N(0,b,(e,_)=>e===_&&0!==r[e],e=>0!==r[e],e,r,_,t,n,s,i,d,o),a.$bfs_des_index=(e,_,r,t,n,s,i,d,o)=>N(1,h,(e,_)=>e===_,e=>!0,e,_,r,t,n,s,i,d,o),a.$bfs_des_leaf_index=(e,r,_,t,n,s,i,d,o)=>N(1,h,(e,_)=>e===_&&0===r[e],e=>0===r[e],e,r,_,t,n,s,i,d,o),a.$bfs_des_nonleaf_index=(e,r,_,t,n,s,i,d,o)=>N(1,h,(e,_)=>e===_&&0!==r[e],e=>0!==r[e],e,r,_,t,n,s,i,d,o),a.$des_bpl=(e,_,r,t,n,s,i,d,o)=>{let l=[],a=i[1],f=u(e,_,r,t,n,s,[a],d,o),$=v.$ance(t,i[0]),c=g($);if(!c.includes(a)&&i[0]!==a)return[-1];c.reverse(),c.push(i[0]),c=c.slice(c.indexOf(a));for(var h of c){h=f.next().value.indexOf(h);l.push(h)}return l},a.$bpl_=(e,_,r,t,n,s,i,d,o)=>{var l=v.lst0(v.$ance(t,i[0]),i[0]);return a.$des_bpl(e,_,r,t,n,s,[i[0],l],d,o)},_.exports=a}),x=r((e,_)=>{var a=y(),{Act:f,srchk_to_buildk:$}=J(),c={$sdfs_next_srch_action:(e,_,r,t,n,s,i,d,o)=>{o=o[0],i=i[0];if(o===f.DIRECTION.up){o=r[i];if(0!==o)return new f("$rsib_",f.DIRECTION.right,o);o=t[i];return new f(0===o?"$end_":"$parent_",f.DIRECTION.up,o)}_=_[i];if(0!==_)return new f("$fstch_",f.DIRECTION.down,_);r=r[i];if(0!==r)return new f("$rsib_",f.DIRECTION.right,r);i=t[i];return new f(0===i?"$end_":"$parent_",f.DIRECTION.up,i)},$sdfs_next_build_action:(e,_,r,t,n,s,i,d,o)=>{let l=c.$sdfs_next_srch_action(e,_,r,t,n,s,i,d,o);return l.k=l.d===f.DIRECTION.right||l.d===f.DIRECTION.down?$(l.k):l.k,l},$sdfs_prev_srch_action:(e,_,r,t,n,s,i,d,o)=>{o=o[0],i=i[0];if(o===f.DIRECTION.up){o=n[i];if(0!==o)return new f("$lsib_",f.DIRECTION.left,o);o=t[i];return new f(0===o?"$end_":"$parent_",f.DIRECTION.up,o)}if(0===_[i]){n=n[i];if(0!==n)return new f("$lsib_",f.DIRECTION.left,n);t=t[i];return new f(0===t?"$end_":"$parent_",f.DIRECTION.up,t)}i=s[i];return new f("$lstch_",f.DIRECTION.down,i)},$sdfs_prev_build_action:(e,_,r,t,n,s,i,d,o)=>{let l=c.$sdfs_prev_srch_action(e,_,r,t,n,s,i,d,o);return l.k=l.d===f.DIRECTION.left||l.d===f.DIRECTION.down?$(l.k,!0):"$parent_"===l.k&&0===r[i[0]]?"$add_or_goto_parent":l.k,l},$gen_sdfs_next_srch_action:function*(_,r,t,n,s,i,d,o,e){var l=a.$drmost_(_,r,t,n,s,i,d,o,e);yield{k:"$self_",d:f.DIRECTION.down};d=d[0];if(d!==l){let e=c.$sdfs_next_srch_action(_,r,t,n,s,i,[d],o,[f.DIRECTION.down]);for(;0!==e.id&&(yield{k:e.k,d:e.d},e.id!==l);)e=c.$sdfs_next_srch_action(_,r,t,n,s,i,[e.id],o,[e.d])}},$gen_sdfs_next_build_action:function*(e,_,r,t,n,s,i,d,o){var l;for(l of c.$gen_sdfs_next_srch_action(e,_,r,t,n,s,i,d,o))l.k=l.d===f.DIRECTION.right||l.d===f.DIRECTION.down?$(l.k):l.k,yield l},$gen_sdfs_prev_srch_action:function*(_,r,t,n,s,i,d,o,e){var l=a.$root_(_,r,t,n,s,i,d,o,e);yield{k:"$self_",d:f.DIRECTION.left,id:d[0]};d=d[0];if(d!==l){let e=c.$sdfs_prev_srch_action(_,r,t,n,s,i,[d],o,[f.DIRECTION.left]);for(;0!==e.id&&(yield{k:e.k,d:e.d,id:e.id},e.id!==l);)e=c.$sdfs_prev_srch_action(_,r,t,n,s,i,[e.id],o,[e.d])}},$gen_sdfs_prev_build_action:function*(e,_,r,t,n,s,i,d,o){var l;for(l of c.$gen_sdfs_prev_srch_action(e,_,r,t,n,s,i,d,o))l.k=l.d===f.DIRECTION.left||l.d===f.DIRECTION.down?$(l.k,!0):"$parent_"===l.k&&0===r[l.id]?"$add_or_goto_parent":l.k,yield l}};_.exports=c}),T=r((e,_)=>{var l=S(),$=y(),f={$gen_ance:(e,_,r,t,n,s,i,d,o)=>l.$ance(t,i[0]),$gen_child_from_fst:(e,_,r,t,n,s,i,d,o)=>l.$fch(_,r,i[0]),$gen_child_from_lst:(e,_,r,t,n,s,i,d,o)=>l.$lch(s,n,i[0]),$gen_sib_from_fst:(e,_,r,t,n,s,i,d,o)=>l.$sibff(_,r,t,i[0]),$gen_sib_from_lst:(e,_,r,t,n,s,i,d,o)=>l.$sibfl(s,n,t,i[0]),$gen_psib:(e,_,r,t,n,s,i,d,o)=>l.$psib(n,i[0]),$gen_fsib:(e,_,r,t,n,s,i,d,o)=>l.$fsib(r,i[0]),$gen_rmost:(e,_,r,t,n,s,i,d,o)=>l.$drmost(s,i[0]),$gen_lmost:(e,_,r,t,n,s,i,d,o)=>l.$dlmost(_,i[0])};function*a(e,_,r,t,n,s,i,d,o,l,a){let f=o[0];for(;0!==f&&(yield f,f!==_);)f=$[e](r,t,n,s,i,d,[f],l,a)}f.$gen_sdfs_next=function*(e,_,r,t,n,s,i,d,o){yield*a("$sdfs_next_",$.$drmost_(e,_,r,t,n,s,i,d,o),e,_,r,t,n,s,i,d,o)},f.$gen_sdfs_prev=function*(e,_,r,t,n,s,i,d,o){yield*a("$sdfs_prev_",$.$root_(e,_,r,t,n,s,i,d,o),e,_,r,t,n,s,i,d,o)};function*c(e,_,r,t,n,s,i,d,o,l){var a;for(a of f[e](_,r,t,n,s,i,d,o,l))0===r[a]&&(yield a)}f.$gen_sdfs_next_leaf=function*(e,_,r,t,n,s,i,d,o){yield*c("$gen_sdfs_next",e,_,r,t,n,s,i,d,o)},f.$gen_sdfs_prev_leaf=function*(e,_,r,t,n,s,i,d,o){yield*c("$gen_sdfs_prev",e,_,r,t,n,s,i,d,o)};function*h(e,_,r,t,n,s,i,d,o,l){var a;for(a of f[e](_,r,t,n,s,i,d,o,l))0!==r[a]&&(yield a)}f.$gen_sdfs_next_nonleaf=function*(e,_,r,t,n,s,i,d,o){yield*h("$gen_sdfs_next",e,_,r,t,n,s,i,d,o)},f.$gen_sdfs_prev_nonleaf=function*(e,_,r,t,n,s,i,d,o){yield*h("$gen_sdfs_prev",e,_,r,t,n,s,i,d,o)},f.$gen_edfs_next=function*(e,_,r,t,n,s,i,d,o){let l=i[0];for(;0!==l;)yield l,l=$.$edfs_next_(e,_,r,t,n,s,[l],d,o)},f.$gen_edfs_prev=function*(e,_,r,t,n,s,i,d,o){let l=i[0];for(;0!==l;)yield l,l=$.$edfs_prev_(e,_,r,t,n,s,[l],d,o)},f.$gen_edfs_next_leaf=function*(e,_,r,t,n,s,i,d,o){yield*c("$gen_edfs_next",e,_,r,t,n,s,i,d,o)},f.$gen_edfs_prev_leaf=function*(e,_,r,t,n,s,i,d,o){yield*c("$gen_edfs_prev",e,_,r,t,n,s,i,d,o)},f.$gen_edfs_next_nonleaf=function*(e,_,r,t,n,s,i,d,o){yield*h("$gen_edfs_next",e,_,r,t,n,s,i,d,o)},f.$gen_edfs_prev_nonleaf=function*(e,_,r,t,n,s,i,d,o){yield*h("$gen_edfs_prev",e,_,r,t,n,s,i,d,o)},_.exports=f}),D=r((e,_)=>{var h=S(),u=T(),r={};function l(e,_,r,t,n,s,i,d,o,l){var a=d[0],d=d[1];return h.of(h.$ance(n,a),d)?h.seq(u[e](_,r,t,n,s,i,[d],o,l),a):-1}r.$ance_dist=(e,_,r,t,n,s,i,d,o)=>h.dist_after(h.$ance(t,i[0]),i[0],i[1]),r.$sib_dist=(e,_,r,t,n,s,i,d,o)=>h.dist_dual(h.$sibff(_,r,t,i[0]),i[0],i[1]),r.$sdfs_des_index=(e,_,r,t,n,s,i,d,o)=>i[0]===i[1]?0:l("$gen_sdfs_next",e,_,r,t,n,s,i,d,o),r.$sdfs_des_leaf_index=(e,_,r,t,n,s,i,d,o)=>i[0]===i[1]&&0===_[i[0]]?0:l("$gen_sdfs_next_leaf",e,_,r,t,n,s,i,d,o),r.$sdfs_des_nonleaf_index=(e,_,r,t,n,s,i,d,o)=>i[0]===i[1]&&0!==_[i[0]]?0:l("$gen_sdfs_next_nonleaf",e,_,r,t,n,s,i,d,o),r.$edfs_des_index=(e,_,r,t,n,s,i,d,o)=>i[0]===i[1]?0:l("$gen_edfs_prev",e,_,r,t,n,s,i,d,o),r.$edfs_des_leaf_index=(e,_,r,t,n,s,i,d,o)=>i[0]===i[1]&&0!==_[i[0]]?0:l("$gen_edfs_prev_leaf",e,_,r,t,n,s,i,d,o),r.$edfs_des_nonleaf_index=(e,_,r,t,n,s,i,d,o)=>i[0]===i[1]&&0!==_[i[0]]?0:l("$gen_edfs_prev_nonleaf",e,_,r,t,n,s,i,d,o),r.$des_spl=(e,_,r,t,n,s,i,d,o)=>{let l=[],a=i[1];if(a===i[0])return[];let f=!1,$=h.$ance(t,i[0]);for(var c of $){if(c===a){f=!0;break}c=h.seq(h.$sibff(_,r,t,c),c);l.unshift(c)}return f?(l.push(h.seq(h.$sibff(_,r,t,i[0]),i[0])),l):[-1]},r.$des_offset=(e,_,r,t,n,s,i,d,o)=>{let l=i[1],a=u.$gen_sdfs_next(e,_,r,t,n,s,[l],d,o),f=0,$=!1,c=!1;for(var h of a){if(i[0]===h){if(c=!0,0===_[h])return f;$=!0}else if(0===_[h]&&$)return f;0===_[h]&&(f+=1)}return c?f:-1},_.exports=r}),N=r((e,_)=>{var f=S(),$=y(),c=T(),l=D(),h=x(),r={$depth_:(e,_,r,t,n,s,i,d,o)=>f.count(f.$ance(t,i[0])),$children_count_:(e,_,r,t,n,s,i,d,o)=>f.count(f.$fch(_,r,i[0])),$sibseq_:(e,_,r,t,n,s,i,d,o)=>f.seq(f.$sibff(_,r,t,i[0]),i[0]),$sibs_count_:(e,_,r,t,n,s,i,d,o)=>f.count(f.$sibff(_,r,t,i[0])),$psibs_count_:(e,_,r,t,n,s,i,d,o)=>f.count(f.$psib(n,i[0])),$fsibs_count_:(e,_,r,t,n,s,i,d,o)=>f.count(f.$fsib(r,i[0])),$spl_:(e,_,r,t,n,s,i,d,o)=>{let l=f.reverse_then_push_self(f.$ance(t,i[0]),i[0]);return l=l.slice(1),l.map(e=>f.seq(f.$sibff(_,r,t,e),e))},$length_:(e,_,r,t,n,s,i,d,o)=>f.count(c.$gen_sdfs_next(e,_,r,t,n,s,i,d,o)),$width_:(e,_,r,t,n,s,i,d,o)=>f.count(c.$gen_sdfs_next_leaf(e,_,r,t,n,s,i,d,o)),$nonleaf_length_:(e,_,r,t,n,s,i,d,o)=>f.count(c.$gen_sdfs_next_nonleaf(e,_,r,t,n,s,i,d,o)),$offset_:(e,_,r,t,n,s,i,d,o)=>{o=$.$root_(e,_,r,t,n,s,i,d,o);return l.$des_offset(e,_,r,t,n,s,[i[0],o],d)}};["sdfs_next_srch_action_list","sdfs_next_build_action_list","sdfs_prev_srch_action_list","sdfs_prev_build_action_list"].forEach(l=>{r["$"+l+"_"]=(e,_,r,t,n,s,i,d,o)=>Array.from(h["$gen_"+l.replace("_list","")](e,_,r,t,n,s,i,d,o))}),r.$height_=(e,_,r,t,n,s,i,d,o)=>{let l=1,a=l,f=h.$gen_sdfs_next_srch_action(e,_,r,t,n,s,[i[0]],d,o);for(var $ of f)"$fstch_"===$.k?l+=1:"$parent_"===$.k&&(l-=1),l>a&&(a=l);return a};["$gen_sdfs_next","$gen_sdfs_next_leaf","$gen_sdfs_next_nonleaf","$gen_edfs_next","$gen_edfs_next_leaf","$gen_edfs_next_nonleaf"].forEach(l=>{var e=l.replace("gen_","").replace("_next","")+"_index_";r[e]=(e,_,r,t,n,s,i,d,o)=>((e,_,r,t,n,s,i,d,o,l)=>{var a=$.$root_(_,r,t,n,s,i,d,o,l),a=e.includes("sdfs")?a:$.$dlmost_(_,r,t,n,s,i,[a],o,l),l=c[e](_,r,t,n,s,i,[a],o,l);return f.seq(l,d[0])})(l,e,_,r,t,n,s,i,d,o)}),_.exports=r}),w=r((e,_)=>{var l=S(),r={$is_root_of:(e,_,r,t,n,s,i,d,o)=>0===t[i[0]]&&i[0]===i[1]||l.lst0(l.$ance(t,i[1]),0)===i[0],$is_parent_of:(e,_,r,t,n,s,i,d,o)=>t[i[1]]===i[0],$is_ance_of:(e,_,r,t,n,s,i,d,o)=>l.of(l.$ance(t,i[1]),i[0]),$is_inclusive_ance_of:(e,_,r,t,n,s,i,d,o)=>i[0]===i[1]||l.of(l.$ance(t,i[1]),i[0]),$is_child_of:(e,_,r,t,n,s,i,d,o)=>l.of(l.$fch(_,r,i[1]),i[0]),$is_fstch_of:(e,_,r,t,n,s,i,d,o)=>_[i[1]]===i[0],$is_lstch_of:(e,_,r,t,n,s,i,d,o)=>s[i[1]]===i[0],$is_des_of:(e,_,r,t,n,s,i,d,o)=>l.of(l.$ance(t,i[0]),i[1]),$is_inclusive_des_of:(e,_,r,t,n,s,i,d,o)=>i[0]===i[1]||l.of(l.$ance(t,i[0]),i[1]),$is_fsib_of:(e,_,r,t,n,s,i,d,o)=>l.of(l.$fsib(r,i[1]),i[0]),$is_rsib_of:(e,_,r,t,n,s,i,d,o)=>r[i[1]]===i[0],$is_psib_of:(e,_,r,t,n,s,i,d,o)=>l.of(l.$psib(n,i[1]),i[0]),$is_lsib_of:(e,_,r,t,n,s,i,d,o)=>n[i[1]]===i[0],$is_sib_of:(e,_,r,t,n,s,i,d,o)=>i[0]!==i[1]&&l.of(l.$sibff(_,r,t,i[1]),i[0]),$is_inclusive_sib_of:(e,_,r,t,n,s,i,d,o)=>i[0]===i[1]||l.of(l.$sibff(_,r,t,i[1]),i[0])};_.exports=r}),C=r((e,_)=>{var l=S(),r={$ance:(e,_,r,t,n,s,i,d,o)=>l.which(l.$ance(t,i[0]),d[0]),$plance:(e,_,r,t,n,s,i,d,o)=>{i=l.reverse_then_push_self(l.$ance(t,i[0]),i[0]);return l.which(i,d[0])},$child:(e,_,r,t,n,s,i,d,o)=>l.which(l.$fch(_,r,i[0]),d[0]),$sib:(e,_,r,t,n,s,i,d,o)=>l.which(l.$sibff(_,r,t,i[0]),d[0]),$psib:(e,_,r,t,n,s,i,d,o)=>l.which(l.$psib(n,i[0]),d[0]),$fsib:(e,_,r,t,n,s,i,d,o)=>l.which(l.$fsib(r,i[0]),d[0])};_.exports=r}),A=r((e,_)=>{var l=S(),r={$some_ances:(e,_,r,t,n,s,i,d,o)=>l.some(l.$ance(t,i[0]),d),$some_plances:(e,_,r,t,n,s,i,d,o)=>{i=l.reverse_then_push_self(l.$ance(t,i[0]),i[0]);return l.some(i,d)},$some_children:(e,_,r,t,n,s,i,d,o)=>l.some(l.$fch(_,r,i[0]),d),$some_sibs:(e,_,r,t,n,s,i,d,o)=>l.some(l.$sibff(_,r,t,i[0]),d),$some_psibs:(e,_,r,t,n,s,i,d,o)=>l.some(l.$psib(n,i[0]),d),$some_fsibs:(e,_,r,t,n,s,i,d,o)=>l.some(l.$fsib(r,i[0]),d)};_.exports=r}),G=r((e,_)=>{v();var $=S(),{FLAG_DICT:c}=J(),h={};h.$sedfs_next=(e,_,r,t,n,s,i,d,o)=>{if(o[0]===c.close)return o=t,(t=r)[(r=i)[0]]?[t[r[0]],0]:[o[r[0]],1];_=_[i[0]];return _?[_,c.open]:[i[0],c.close]},h.$sedfs_next_after_open_=(e,_,r,t,n,s,i,d,o)=>h.$sedfs_next(e,_,r,t,n,s,i,d,[0]),h.$sedfs_next_after_close_=(e,_,r,t,n,s,i,d,o)=>h.$sedfs_next(e,_,r,t,n,s,i,d,[1]),h.$gen_sedfs_next=function*(e,_,r,t,n,s,i,d,o){let l=i[0],a=o[0];for(yield[l,a];l!==i[0]||a!==c.close;)[l,a]=h.$sedfs_next(e,_,r,t,n,s,[l],[],[a]),yield[l,a]},h.$gen_sedfs_next_after_open=function*(e,_,r,t,n,s,i,d,o){yield*h.$gen_sedfs_next(e,_,r,t,n,s,i,d,[0])},h.$gen_sedfs_next_after_close=function*(e,_,r,t,n,s,i,d,o){yield*h.$gen_sedfs_next(e,_,r,t,n,s,i,d,[1])},h.$sedfs_=(e,_,r,t,n,s,i,d,o)=>Array.from(h.$gen_sedfs_next_after_open(e,_,r,t,n,s,i,d,o));h.$sedfs_prev=(e,_,r,t,n,s,i,d,o)=>o[0]===c.open?((e,_,r)=>_[r[0]]?[_[r[0]],1]:[e[r[0]],0])(t,n,i):_[i[0]]?[s[i[0]],c.close]:[i[0],c.open],h.$sedfs_prev_before_open_=(e,_,r,t,n,s,i,d,o)=>h.$sedfs_prev(e,_,r,t,n,s,i,d,[0]),h.$sedfs_prev_before_close_=(e,_,r,t,n,s,i,d,o)=>h.$sedfs_prev(e,_,r,t,n,s,i,d,[1]),h.$gen_sedfs_prev=function*(e,_,r,t,n,s,i,d,o){let l=$.lst0($.$ance(t,i[0]),i[0]),a=i[0],f=o[0];for(yield[a,f];a!==l||f!==c.open;)[a,f]=h.$sedfs_prev(e,_,r,t,n,s,[a],d,[f]),yield[a,f]},h.$gen_sedfs_prev_before_open=function*(e,_,r,t,n,s,i,d,o){yield*h.$gen_sedfs_prev(e,_,r,t,n,s,i,d,[0])},h.$gen_sedfs_prev_before_close=function*(e,_,r,t,n,s,i,d,o){yield*h.$gen_sedfs_prev(e,_,r,t,n,s,i,d,[1])},_.exports=h}),L=r((e,_)=>{var l=S(),a=T(),f=Array.from,r={$ances_:(e,_,r,t,n,s,i,d,o)=>f(l.$ance(t,i[0])),$plances_:(e,_,r,t,n,s,i,d,o)=>l.reverse_then_push_self(l.$ance(t,i[0]),i[0]),$children_:(e,_,r,t,n,s,i,d,o)=>f(l.$fch(_,r,i[0])),$sibs_:(e,_,r,t,n,s,i,d,o)=>f(l.$sibff(_,r,t,i[0])),$psibs_:(e,_,r,t,n,s,i,d,o)=>f(l.$psib(n,i[0])),$fsibs_:(e,_,r,t,n,s,i,d,o)=>f(l.$fsib(r,i[0])),$sdfs_:(e,_,r,t,n,s,i,d,o)=>f(a.$gen_sdfs_next(e,_,r,t,n,s,i,d,o)),$sdfs_leafs_:(e,_,r,t,n,s,i,d,o)=>f(a.$gen_sdfs_next_leaf(e,_,r,t,n,s,i,d,o)),$sdfs_nonleafs_:(e,_,r,t,n,s,i,d,o)=>f(a.$gen_sdfs_next_nonleaf(e,_,r,t,n,s,i,d,o)),$edfs_:(e,_,r,t,n,s,i,d,o)=>f(a.$gen_edfs_next(e,_,r,t,n,s,i,d,o)),$edfs_leafs_:(e,_,r,t,n,s,i,d,o)=>f(a.$gen_edfs_next_leaf(e,_,r,t,n,s,i,d,o)),$edfs_nonleafs_:(e,_,r,t,n,s,i,d,o)=>f(a.$gen_edfs_next_nonleaf(e,_,r,t,n,s,i,d,o))};_.exports=r}),k=r((e,_)=>{var $=S(),r={$get_with_spl:(e,_,r,t,n,s,i,d,o)=>{let l=i[0],a=o[0];for(var f of a)if(l=$.which($.$fch(_,r,l),f),0===l)break;return l}};_.exports=r}),P=r((e,_)=>{var{forlst:o}=I(),a=v(),r={},f={cant_add_sib_to_root:new Error("cant_add_sib_to_root"),only_root_can_add_parent:new Error("only_root_can_add_parent"),can_not_connto_nonleaf:new Error("can_not_connto_nonleaf"),already_in_a_tree:new Error("already_in_a_tree"),can_not_replace_tree_with_nonroot:new Error("can_not_replace_with_nonroot"),can_not_replace_node_with_non_isolated:new Error("ERROR_DICT.can_not_replace_with_non_isolated"),in_same_ance_chain:new Error("in_same_ance_chain")};function t(_,r){if(!_.$is_root()){let e=_.$lsib_;if(null===e){let e=_.$parent_;_.$disconn(),e.$prepend_child(r)}else _.$disconn(),e.$add_rsib(r)}}r.ERROR_DICT=f,r.pend=(e,_,r,t,n)=>{var{fc:s,rb:i,pr:d,lb:o,lc:l}=_,t=t.$id_;if(null!==(n=n??_.node(r))){if(!a.$is_root(d,n.$id_))throw f.already_in_a_tree;a[e](s,i,d,o,l,t,n.$id_)}return n},r.asib=(e,_,r,t,n)=>{var{fc:s,rb:i,pr:d,lb:o,lc:l}=_,t=t.$id_;if(a.$is_root(d,t))throw f.cant_add_sib_to_root;if(null!==(n=n??_.node(r))){if(!a.$is_root(d,n.$id_))throw f.already_in_a_tree;a[e](s,i,d,o,l,t,n.$id_)}return n},r.multi_add=(_,r,t,n,s,e,i)=>{let d;return d=e instanceof Array?e:Array.from({length:e}).map(e=>t.node(n)),i?o(d,e=>r(_,t,n,s,e)):d.forEach(e=>r(_,t,n,s,e)),d.filter(e=>null!==e)},r.$insert_child_at=(e,_,r,t)=>{var n=_.$children_count_-1;let s=_.$child(r=n<(r=r<0?0:r)?n:r);return"before"===e?null===s?_.$prepend_child(t):s.$add_lsib(t):null===s?_.$append_child(t):s.$add_rsib(t)},r.$insert_children_at=(e,_,r,t,n,s)=>{var i=t.$children_count_-1;i<(n=n<0?0:n)&&(n=i);let d=s instanceof Array?s:Array.from({length:s}).map(e=>_.node(r)),o=t.$child(n);return"before"===e?null===o?t.$prepend_children(d):o.$add_lsibs(d):null===o?t.$append_children(d):o.$add_rsibs(d)},r.$add_parent=(_,r,t)=>{if(t.$is_root()){let e=_.node(r);return null===e||e.$prepend_child(t),e}throw f.only_root_can_add_parent},r.$connto=(e,_)=>{if(_.$is_leaf())return _.$prepend_child(e),e;throw f.can_not_connto_nonleaf},r.$disconn=(e,_)=>{var r,t,n,s;return _.$is_root()||({fc:r,rb:t,pr:n,lb:s,lc:e}=e,a.$disconn(r,t,n,s,e,_.$id_)),_},r.$rm_fstch=_=>{if(_.$is_leaf())return null;{let e=_.$fstch_;return e.$disconn(),e}},r.$rm_lstch=_=>{if(_.$is_leaf())return null;{let e=_.$lstch_;return e.$disconn(),e}},r.$rm_child=(_,r)=>{if(_.$is_leaf())return null;{let e=_.$child(r);return e.$disconn(),e}},r.$rm_children=_=>{if(_.$is_leaf())return[];{let e=_.$children_;return e.forEach(e=>{e.$disconn()}),e}},r.$rm_some_children=(_,r)=>{if(_.$is_leaf())return[];{let e=_.$some_children(r);return e.forEach(e=>{e.$disconn()}),e}},r.$replace_tree=(e,_)=>{if(_.$is_root())return t(e,_),_;throw f.can_not_replace_tree_with_nonroot},r.$replace_node=(e,_)=>{if(_.$is_isolated()){var r=e.$rm_children();return _.$append_children(r),t(e,_),_}throw f.can_not_replace_node_with_non_isolated},r.$swap_tree=(r,t)=>{if(_=t,(e=r).$is_inclusive_ance_of(_)||_.$is_inclusive_ance_of(e))throw f.in_same_ance_chain;var e,_;if(r.$is_root()){if(!t.$is_root()){let e=t.$replace_tree();e.$replace_tree(r),e.$erase()}}else if(t.$is_root()){let e=r.$replace_tree();e.$replace_tree(t),e.$erase()}else{let e=r.$replace_tree(),_=t.$replace_tree();e.$replace_tree(t),_.$replace_tree(r),e.$erase(),_.$erase()}return t},r.$swap_node=(e,_)=>{let r=e.$replace_node(),t=_.$replace_node();return r.$replace_node(_),t.$replace_node(e),r.$erase(),t.$erase(),_},r.$erase=(e,_,r)=>{var t=r.$id_,n=r.$rm_children();return r.$disconn(),e.idpool.rtrn(t),e.slots_[t]=0,e.fc[t]=0,e.rb[t]=0,e.pr[t]=0,e.lb[t]=0,e.lc[t]=0,r[_.SYM_DICT.release_forest](),n},_.exports=r}),u=r((e,_)=>{var f=E(),i={cspis:b(),cspbfs:m(),cspact:x(),cspget:N(),ndget:y(),cspof:w(),getwnd:D(),ndgetwi:C(),ndsgetwis:A(),ndgen:T(),sedfs:G(),ndsget:L(),ndgetwo:k()},{buildk_to_srchk:d}=(v(),J());var o=function(){let e={};for(var _ in f)"add_"===_.slice(0,4)&&(e[_]=f[_]);return e}(),l=new Set(["IS"]);function $(e,_){var r=_[e.SYM_DICT.get_forest],{idpool:t,fc:n,rb:s,pr:i,lb:d,lc:o}=r;return[r,_[e.SYM_DICT.get_ctor],t,n,s,i,d,o]}var t=(e,_,r,t)=>{var[n,,s,i,d,o,l,e]=$(e,t),t=r(s,i,d,o,l,e,[t.$id_],[],[]);return f[_](n,t)},n=(e,_,r,t,n)=>{var[s,,i,d,o,l,a,e]=$(e,t),n=r(i,d,o,l,a,e,[t.$id_,n.$id_],[],[]);return f[_](s,n)},s=(e,_,r,t,n)=>{var[s,,i,d,o,l,a,e]=$(e,t),n=r(i,d,o,l,a,e,[t.$id_],[n],[]);return f[_](s,n)},a=(e,_,r,t,n)=>{var[s,,i,d,o,l,a,e]=$(e,t),n=r(i,d,o,l,a,e,[t.$id_],[],[n]);return f[_](s,n)},c=(e,_,r,t,n)=>{var[s,,i,d,o,l,a,e]=$(e,t),n=r(i,d,o,l,a,e,[t.$id_],n,[]);return f[_](s,n)},r={};function h(_,n,s){r[_]=r=>{var e,t=function(e){let r={};for(let _ of e)l.has(_.cate)||f[_.cate].forEach(e=>{r[e]=i[_.lib][e]});return r}(o[_]);for(e in t){let _=t[e];"_"===e[e.length-1]?function(e,_,r,t,n){Object.defineProperty(e.prototype,_,{get:function(){return t(e,n,r,this)}})}(r,e,_,s,n):r.prototype[e]=function(e){return s(r,n,_,this,e)}}}}!function(){for(var e in o){var{args:_,rtrn:r}=(e=>{e=e.split("$");return{args:e[1],rtrn:e[2]}})(e);"args_id0_"===_?h(e,r,t):"args_id01_"===_?h(e,r,n):"args_id0_idx0_"===_?h(e,r,s):"args_id0_o0_"===_?h(e,r,a):"args_id0_idxs_"===_&&h(e,r,c)}}();var u=P();function p(n,e,s){f[e].forEach(t=>{n.prototype[t]=function(e){var[_,r]=$(n,this);return s(t,_,r,this,e)}})}function g(t,e,n,s,i){t.prototype[e]=function(e){var[_,r]=$(t,this);return u.multi_add(n,s,_,r,this,e,i)}}r.add_bsc_add_op=e=>{p(e,"BSC_PEND_OP",u.pend),p(e,"BSC_ASIB_OP",u.asib)},r.add_multi_add_op=e=>{g(e,"$prepend_children","$prepend_child",u.pend,!0),g(e,"$append_children","$append_child",u.pend,!1),g(e,"$add_lsibs","$add_lsib",u.asib,!1),g(e,"$add_rsibs","$add_rsib",u.asib,!0)},r.add_$insert_child_before=r=>{r.prototype.$insert_child_before=function(e,_){var[]=$(r,this);return u.$insert_child_at("before",this,e,_)}},r.add_$insert_child_after=r=>{r.prototype.$insert_child_after=function(e,_){var[]=$(r,this);return u.$insert_child_at("after",this,e,_)}},r.add_$insert_children_before=n=>{n.prototype.$insert_children_before=function(e,_){var[r,t]=$(n,this);return u.$insert_children_at("before",r,t,this,e,_)}},r.add_$insert_children_after=n=>{n.prototype.$insert_children_after=function(e,_){var[r,t]=$(n,this);return u.$insert_children_at("after",r,t,this,e,_)}},r.add_$add_parent=r=>{r.prototype.$add_parent=function(){var[e,_]=$(r,this);return u.$add_parent(e,_,this)}},r.add_$connto=e=>{e.prototype.$connto=function(e){return u.$connto(this,e)}},r.add_$add_parent_and_lsib=r=>{r.prototype.$add_parent_and_lsib=function(){var[e,_]=$(r,this);return[u.$add_parent(e,_,this),u.asib("$add_lsib",e,_,this)]}},r.add_$add_or_goto_parent=r=>{r.prototype.$add_or_goto_parent=function(){var[e,_]=$(r,this);return null!==this.$parent_?this.$parent_:u.$add_parent(e,_,this)}},r.add_$disconn=_=>{_.prototype.$disconn=function(){var[e]=$(_,this);return u.$disconn(e,this)}},r.add_$rm_fstch=e=>{e.prototype.$rm_fstch=function(){return u.$rm_fstch(this)}},r.add_$rm_lstch=e=>{e.prototype.$rm_lstch=function(){return u.$rm_lstch(this)}},r.add_$rm_child=e=>{e.prototype.$rm_child=function(e){return u.$rm_child(this,e)}},r.add_$rm_children=e=>{e.prototype.$rm_children=function(){return u.$rm_children(this)}},r.add_$rm_some_children=e=>{e.prototype.$rm_some_children=function(e){return u.$rm_some_children(this,e)}},r.add_$replace_tree=t=>{t.prototype.$replace_tree=function(e){let[_,r]=$(t,this);return e=e??_.tree(r),u.$replace_tree(this,e)}},r.add_$replace_child_tree_at=e=>{e.prototype.$replace_child_tree_at=function(e,_){let r=this.$child(e);return null===r?null:r.$replace_tree(_)}},r.add_$replace_node=t=>{t.prototype.$replace_node=function(e){let[_,r]=$(t,this);return e=e??_.node(r),u.$replace_node(this,e)}},r.add_$replace_child_node_at=e=>{e.prototype.$replace_child_node_at=function(e,_){let r=this.$child(e);return null===r?null:r.$replace_node(_)}},r.add_$swap_tree=_=>{_.prototype.$swap_tree=function(e){var[]=$(_,this);return u.$swap_tree(this,e)}},r.add_$swap_node=_=>{_.prototype.$swap_node=function(e){var[]=$(_,this);return u.$swap_node(this,e)}},r.add_$clone=s=>{s.prototype.$clone=function(r=s.DFLT_CLONE_FUNC){let[]=$(s,this),e=this.$sdfs_next_build_action_list_,_=this.$new();r(this,_);let t=this,n=_;return e.slice(1).forEach(e=>{var _=f.is_getter_fn(e.k);n=f.is_getter_fn(e.k)?n[e.k]:n[e.k]();e=_?e.k:d(e.k);t=t[e],r(t,n)}),_}},r.add_$erase=r=>{r.prototype.$erase=function(){var[e,_]=$(r,this);return u.$erase(e,_,this)}},r.add_$erase_r=t=>{t.prototype.$erase_r=function(){let[_,r]=$(t,this),e=this.$sdfs_;return e.forEach(e=>u.$erase(_,r,e)),e}},_.exports=r}),p=r((e,_)=>{var{RELATION_ANCE:r}=E();function n(e,s){if(null===e[e.constructor.SYM_DICT.get_forest]||null===s[s.constructor.SYM_DICT.get_forest])return[];if(e.$fid_!==s.$fid_)return[];{let _=e.$plances_,r=s.$plances_,t=-1,n=(_.length<=r.length?_:r).length;for(let e=0;e<n&&_[e]===r[e];e++)t=e;return 0<=t?[_.slice(0,t+1),_,r]:[]}}var t={$cmmn_ances:function(e,_){return 0<(_=n(e,_)).length?_[0]:null},$fst_cmmn_ance:function(e,_){return 0<(_=n(e,_)).length?_[0][_[0].length-1]:null},$dist:function(e,_){if(0<(r=n(e,_)).length){var[e,_,r]=r;return r.length-e.length+_.length-e.length}return 1/0},$path_to:function(e,t){if(0<(t=n(e,t)).length){let[e,_,r]=t;return _=_.slice(e.length),_.reverse(),r=r.slice(e.length),_.concat(r)}return[]}};_.exports={add_ance_relation:function(e){for(let _ of r)e.prototype[_]=function(e){return t[_](this,e)}}}}),g=r((e,_)=>{function n(e,_=(e,_)=>{}){var r=e.$clone(_).$lyrs_;for(let _=r.length-1;-1<_;_--){var t=r[_];for(let e=0;e<t.length;e++){var n=t[e];Object.assign(n,{height:r.length-_,children_count:0,length:1})}}for(let e=r.length-1;0<e;e--){var s=r[e];for(let r=0;r<s.length;r++){let e=s[r],_=e.$parent_;_.children_count=_.children_count+1,_.length=_.length+e.length}}return r}function d(e,_=(e,_)=>0){var r=n(e);for(let e=0;e<r.length-1;e++){var t=r[e];for(let e=0;e<t.length;e++)!function(e,_=(e,_)=>0){var t,r=e.$rm_children();[_,t=(e,_)=>0]=[r,_],_.sort((e,_)=>{let r=e.length-_.length;return r=0===r?e.height-_.height:r,r=0===r?e.children_count-_.children_count:r,r=0===r?t(e,_):r,r}),e.$append_children(r)}(t[e],_)}return r[0][0]}function o(e,_,r=(e,_)=>!0){let t=e.$gen_sdfs_next_srch_action(),n=_.$gen_sdfs_next_srch_action(),s=e,i=_;for(var d of t){var o=n.next().value;if(void 0===o)return!1;if(d.k!==o.k)return!1;if(s=s[d.k],i=i[o.k],!r(s,i))return!1}return void 0===n.next().value}function t(e,_,r=(e,_)=>0,t=(e,_)=>!0){let n=d(e,r),s=d(_,r),i=o(n,s,t);return n.$erase_r(),s.$erase_r(),i}_.exports={creat_ele_mat:n,dcp_and_sort_nd:d,strict_eq:o,loose_eq:t,add_deep_steq:function(e){e.prototype.$deep_steq=function(e,_=(e,_)=>!0){return o(this,e,_)}},add_deep_lseq:function(e){e.prototype.$deep_lseq=function(e,_=(e,_)=>0,r=(e,_)=>!0){return t(this,e,_,r)}}}}),M=r((e,_)=>{var{FLAG_DICT:s}=J();function t(e,_){if(e(_)){e=_.$rsib_;return null!==e?e:_.$rsib_of_fst_ance_having_rsib_}return _.$sdfs_next_}function i(e,_,r){return e(_)?r===s.open?[_,"close"]:_.$sedfs_next_after_close_:_.$sedfs_next(r)}_.exports={add_cond_leaf_sdfs_next:function(e){e.prototype.$cond_leaf_sdfs_next=function(e){return t(e,this)}},add_gen_cond_leaf_sdfs_next:function(e){e.prototype.$gen_cond_leaf_sdfs_next=function*(e){yield*function*(e,_){for(var r=_.$drmost_.$sdfs_next_;_!==r;)yield _,_=t(e,_)}(e,this)}},add_cond_leaf_sedfs_next:function(e){e.prototype.$cond_leaf_sedfs_next=function(e,_){return i(e,this,_)}},add_gen_cond_leaf_sedfs_next:function(e){e.prototype.$gen_cond_leaf_sedfs_next=function*(e){yield*function*(e,_){let r="open",[t,n]=_.$sedfs_next(s.close);for(;_!==t||r!==n;)yield[_,r],[_,r]=i(e,_,s[r])}(e,this)}}}}),U=r((e,_)=>{var{add_repr:n,add_string_tag:r,get_abbr:t}=I(),{}=J(),s={p:"[+]",n:"[-]",l:"[.]"},i={t:" â”œâ”€â”€ ",v:" â”‚   ",l:" â””â”€â”€ ",ws:"     "},l={t:"â”œâ”€â”€ ",v:"â”‚   ",l:"â””â”€â”€ ",ws:"    "};function a(_,e,r=0){let t=[];e.$is_root()||(e.$is_lstch()?t.unshift(_.l):t.unshift(_.t));let n=e.$ances_;for(let e=0;e<n.length-1;e++)n[e].$is_lstch()?t.unshift(_.ws):t.unshift(_.v);return t=t.slice(r),t.join("")}function f(e){return null!==e[e.constructor.SYM_DICT.get_forest]?t(e.$fid_)+":"+e.$id_:""}var $=(e,_=1)=>e.$is_leaf()||e.$depth_===_;var c=e=>e.$tag_??e.$id_;function d(_,n=1,s=c,i=100){if(null===_[_.constructor.SYM_DICT.get_forest])return"%erased% {}";var d,o=(_.$tag_??_.$id_)+" %"+f(_)+"% "+JSON.stringify(_,null,4);if(_.$is_leaf()||!_.$is_repr_enabled())return o;{let r=_.$depth_,e=(_=_,d=r+n,Array.from(_.$gen_cond_leaf_sdfs_next(e=>$(e,d)))),t=e.slice(0,i);for(let _=0;_<t.length;_++){let e=t[_];t[_]="    "+a(l,e,r)+s(e),e.$depth_!==r+n||e.$is_leaf()||(t[_]=t[_]+" [...] ")}return e.length>i&&t.push("... "+e.length-i+" more items"),o+` [
`+t.join(`
`)+`
]`}}var o=e=>e.$is_leaf()||!e.$is_disp_enabled();var h=e=>e.$is_leaf()?s.l:e.$is_disp_enabled()?s.n:s.p;function u(e,t=c){if(null===e[e.constructor.SYM_DICT.get_forest])return"%erased% {}";var n=(e.$tag_??e.$id_)+" %"+f(e)+"% "+JSON.stringify(e,null,4);if(e.$is_leaf())return n;{let _=e.$depth_,r=(e=e,Array.from(e.$gen_cond_leaf_sdfs_next(o)));for(let e=0;e<r.length;e++){var s=r[e];r[e]="    "+a(i,s,_)+h(s)+t(s)}return n+` [
`+r.join(`
`)+`
]`}}var p=(e,_)=>{e=e.$tag_??e.$id_;return"open"===_?"<"+e+">":"</"+e+">"};function g(r,i=1,d=p,t=100){if(null===r[r.constructor.SYM_DICT.get_forest])return"%erased% {}";var o,l=(r.$tag_??r.$id_)+" %"+f(r)+"% "+JSON.stringify(r,null,4);if(r.$is_leaf())return l+` [
    `+d(r,"open")+d(r,"close")+`
]`;{let n=r.$depth_,e=(r=r,o=n+i,Array.from(r.$gen_cond_leaf_sedfs_next(e=>$(e,o)))),_=e.length,s=e.slice(0,t);for(let t=0;t<s.length;t++){let[e,_]=s[t],r="    ".repeat(e.$depth_-n);s[t]="    "+r+d(e,_),e.$depth_!==n+i||e.$is_leaf()||"open"!==_||(s[t]=s[t]+`
`+r+"        <.../>")}return t<_&&s.push("... "+_-t+" more items"),l+` [
`+s.join(`
`)+`
]`}}_.exports={NATIVE_QUOTE:"%",_add_string_tag:function(e){r(e,e=>(e.$tag_??e.$id_)+" %"+f(e)+"% ")},FOLDUP_SIGN_DICT:s,REPR_PREFIX_DICT:l,UI_PREFIX_DICT:i,DFLT_REPR_LFN:c,_add_repr:function(e,_=1,r=c,t=100){n(e,d,_,r,t)},_add_disp:function(e,_=0){e.prototype.$display=function(e=!1){var _=u(this,c);if(e)return _;console.log(_)}},DFLT_SEDFS_LFN:p,_add_sedfs_repr:function(e,_=1,r=p,t=100){n(e,g,_,r,t)}}}),B=r((e,_)=>{var{FLAG_DICT:t}=J();function r(e){let r=e,t=e,n=e.$drmost_,s=!1,i=!1;return[function(e=1){i=!1;let _=[];for(;_.length<e;)s?(t=r,s=!1):(t=t.$sdfs_next_,null===t&&(t=r)),t===n&&(s=!0),t===r&&(i=!0),_.push(t);return _},function(){return t},function(e=1){s=!1;let _=[];for(;_.length<e;)i?(t=n,i=!1):(t=t.$sdfs_prev_,null===t&&(t=n)),t===n&&(s=!0),t===r&&(i=!0),_.unshift(t);return _}]}function n(e){e.prototype.$more_less=function(){return r(this)}}var s=(e,_)=>{},i=Symbol("open"),d=Symbol("close"),o=class{#e=0;#t=void 0;#n;get action_(){return this.#e}get val_(){return this.#t}[i](){this.#n=0}[d](){this.#n=1}is_opened(){return 0===this.#n}is_closed(){return 1===this.#n}yield(){this.#e=0}skip(){this.#e=1}disconn(){this.#e=2}add_lsib(e){this.#e=3,this.#t=e}add_rsib(e){this.#e=4,this.#t=e}add_child(e){this.#e=5,this.#t=e}replace_with(e){this.#e=6,this.#t=e}erase(){this.#e=7,this.#t=void 0}replace_tree(e){this.#e=8,this.#t=e}replace_node(e){this.#e=9,this.#t=e}reset(){this.#e=0,this.#t=void 0}},l={add_child:"add-child-only-can-be-applied-on-leaf;for-nonleaf,using add_?sib on child",replace:"use-replace-tree or replace-node; replace_with is a old API, have NO effect"};function a(e,_){var[r,e]=e.$sedfs_next(_);return[r,_=t[e]]}function*f(e,_=s){let r=new o,[t,n]=a(e,0);for(;null!==t;){if(0===n?r[i]():r[d](),_(t,r),0===r.action_)yield t,[t,n]=a(t,n);else if(1===r.action_)[t,n]=a(t,n);else if(2===r.action_)if(0===n){t.$rm_children();let e=t;[t,n]=a(t,n),e.$disconn()}else{yield t;let e=t;[t,n]=a(t,n),e.$disconn()}else if(3===r.action_){t.$add_lsib(r.val_);yield t,[t,n]=a(t,n)}else if(4===r.action_)if(yield t,0===n)t.$add_rsib(r.val_),[t,n]=a(t,n);else{let e=t;[t,n]=a(t,n),e.$add_rsib(r.val_)}else if(5===r.action_)if(yield t,t.$is_leaf())if(0===n)t.$append_child(r.val_),[t,n]=a(t,n);else{let e=t;[t,n]=a(t,n),e.$append_child(r.val_)}else console.log(l.add_child);else if(6===r.action_)t.$replace_with?0===n?(t=t.$replace_with(r.val_),n=0,yield t):(yield t,t=t.$replace_with(r.val_),n=1):console.log(l.replace);else if(7===r.action_)if(0===n){t.$rm_children();let e=t;[t,n]=a(t,n),e.$erase()}else{yield t;let e=t;[t,n]=a(t,n),e.$erase()}else 8===r.action_?0===n?(t=t.$replace_tree(r.val_),n=0,yield t):(yield t,t=t.$replace_tree(r.val_),n=1):9===r.action_&&(0===n?(t=t.$replace_node(r.val_),n=0,yield t):(yield t,t=t.$replace_node(r.val_),n=1));r.reset()}}function $(e,_=s){for(var r of f(e,_));}function c(e){e.prototype.$gen_visit=function(e=s){return f(this,e)},e.prototype.$visit=function(e=s){$(this,e)}}var h={is_opened:"visitor.is_opened()",is_closed:"visitor.is_closed()",skip:"visitor.skip()",disconn:"visitor.disconn()",add_lsib:"visitor.add_lsib(new_node||undefined)",add_rsib:"visitor.add_rsib(new_node||undefined)",add_child:"visitor.add_child(new_node||undefined)",replace_with:"visitor.replace_with(new_node||undefined)",erase:"visitor.erase()",replace_tree:"visitor.replace_tree(new_tree||undefined)",replace_node:"visitor.replace_node(new_node||undefined)"};_.exports={add_more_less:n,DFLT_VISIT_FUNC:s,ACTION_DICT:h,ALRM_DICT:l,gen:f,visit:$,add_visit:c,add_mlv:function(e){n(e),c(e),e.Visitor={DFLT_VISIT_FUNC:s,ACTION_DICT:h,ALRM_DICT:l}}}}),f=r((e,_)=>{var i=b(),{ZWNJ:r,__DP:t,__O:n}=(y(),I()),s={release_forest:Symbol("release_forest"),get_forest:Symbol("get_forest"),get_ctor:Symbol("get_ctor"),set_id:Symbol("set_id")},d=class{#e;#t;#n;constructor(e,_){this.#n=this.constructor,this.#e=e,this.#t=_}get[s.get_forest](){return this.#e}get[s.get_ctor](){return this.#n}[s.release_forest](){this.#e=null}[s.set_id](e){this.#t=e}get $fid_(){return this.#e.fid}get $id_(){return this.#t}$noop(){}$new(e=d){return this.#e.node(e)}$is_empty(){var{idpool:e,fc:_,rb:r,pr:t,lb:n,lc:s}=this.#e;return i.$is_empty(e,_,r,t,n,s,[this.#t],[],[])}$is_root(){var{idpool:e,fc:_,rb:r,pr:t,lb:n,lc:s}=this.#e;return i.$is_root(e,_,r,t,n,s,[this.#t],[],[])}$is_fstch(){var{idpool:e,fc:_,rb:r,pr:t,lb:n,lc:s}=this.#e;return i.$is_fstch(e,_,r,t,n,s,[this.#t],[],[])}$is_midch(){var{idpool:e,fc:_,rb:r,pr:t,lb:n,lc:s}=this.#e;return i.$is_midch(e,_,r,t,n,s,[this.#t],[],[])}$is_lstch(){var{idpool:e,fc:_,rb:r,pr:t,lb:n,lc:s}=this.#e;return i.$is_lstch(e,_,r,t,n,s,[this.#t],[],[])}$is_leaf(){var{idpool:e,fc:_,rb:r,pr:t,lb:n,lc:s}=this.#e;return i.$is_leaf(e,_,r,t,n,s,[this.#t],[],[])}$is_lonely(){var{idpool:e,fc:_,rb:r,pr:t,lb:n,lc:s}=this.#e;return i.$is_lonely(e,_,r,t,n,s,[this.#t],[],[])}$is_isolated(){var{idpool:e,fc:_,rb:r,pr:t,lb:n,lc:s}=this.#e;return i.$is_isolated(e,_,r,t,n,s,[this.#t],[],[])}};d.SYM_DICT=s,d.DFLT_CLONE_FUNC=(e,_)=>{Object.assign(_,e)};var o,l=u();for(o in l)"ERROR_DICT"!==o&&l[o](d);var{add_ance_relation:a}=p();a(d);var{add_deep_steq:f,add_deep_lseq:$}=g();f(d),$(d);var{add_cond_leaf_sdfs_next:s,add_gen_cond_leaf_sdfs_next:a,add_cond_leaf_sedfs_next:f,add_gen_cond_leaf_sedfs_next:$}=M();s(d),a(d),f(d),$(d);var{_add_string_tag:s}=U();s(d);var{add_mlv:a}=B();a(d);var{add_dump:f}=h();f(d),n[t](d,"name",{value:r});var $=class extends d{#e=!0;$is_repr_enabled(){return this.#e}$enable_repr(){this.#e=!0}$disable_repr(){this.#e=!1}},{_add_repr:s}=U();s($,2),n[t]($,"name",{value:r});var a=class extends d{#e=!1;$is_disp_enabled(){return this.#e}$expand(){this.#e=!0}$expand_all(){this.$sdfs_.forEach(e=>e.$expand())}$foldup(){this.#e=!1}$foldup_all(){this.$sdfs_.forEach(e=>e.$foldup())}},{_add_disp:f}=U();function c(e,_,r){let t=e.constructor,n=e[t.SYM_DICT.get_forest],s=Array.from({length:r}).map(e=>n.node(t));return s.forEach(e=>e.$tag_=_),s}f(a),n[t](a,"name",{value:r});var s=class extends d{#e="";constructor(e,_,r=""){super(e,_),this.#e=r}get $tag_(){return this.#e}set $tag_(e){this.#e=e}$prepend(e="",_=1){_=c(this,e,_);return this.$prepend_children(_),_}$append(e="",_=1){_=c(this,e,_);return this.$append_children(_),_}$insert_before(e,_="",r=1){r=c(this,_,r);return this.$insert_children_before(e,r),r}$insert_after(e,_="",r=1){r=c(this,_,r);return this.$insert_children_after(e,r),r}$arsib(e="",_=1){_=c(this,e,_);return this.$add_rsibs(_),_}$alsib(e="",_=1){_=c(this,e,_);return this.$add_lsibs(_),_}$aparent(e=""){e=c(this,e,1);return this.$add_parent(e[0])}},{_add_sedfs_repr:f}=U();f(s,2),n[t](s,"name",{value:r}),_.exports={_Node:d,_TermNode:$,_UiNode:a,_TagNode:s}});return r((e,_)=>{var r=l(),{_Node:t,_TermNode:n,_TagNode:s,_UiNode:i}=f();_.exports={Forest:r,_Node:t,_TermNode:n,_TagNode:s,_UiNode:i}})()})();